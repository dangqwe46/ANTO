(()=>{var __webpack_modules__={431:(e,t)=>{"use strict";var r,o,n,i,a,s,c,l,u,g,p,d,h,f;Object.defineProperty(t,"__esModule",{value:!0}),t.Xrm=t.$=t.SOAP_TYPE=t.SOAP_CONSTS=t.SaveOption=t.FormType=t.Constants=void 0,(o=t.Constants||(t.Constants={})).ODataFormattedValue="@OData.Community.Display.V1.FormattedValue",o.ODataLookupLogicalName="@Microsoft.Dynamics.CRM.lookuplogicalname",o.ODataAssociatedNavigationProperty="@Microsoft.Dynamics.CRM.associatednavigationproperty",(f=o.BoundParameter||(o.BoundParameter={})).CRUD="undefined",f.Global="null",f.Entity="entity",(h=o.OperationType||(o.OperationType={}))[h.Action=0]="Action",h[h.Function=1]="Function",h[h.CRUD=2]="CRUD",(d=o.StructuralProperty||(o.StructuralProperty={}))[d.Unknown=0]="Unknown",d[d.PrimitiveType=1]="PrimitiveType",d[d.ComplexType=2]="ComplexType",d[d.EnumerationType=3]="EnumerationType",d[d.Collection=4]="Collection",d[d.EntityType=5]="EntityType",(p=o.RequiredLevel||(o.RequiredLevel={})).None="none",p.Required="required",p.Recommended="recommended",(g=o.SubmitMode||(o.SubmitMode={})).Always="always",g.Never="never",g.Dirty="dirty",(u=o.TabDisplayState||(o.TabDisplayState={})).Expanded="expanded",u.Collapsed="collapsed",(l=o.NotificationLevel||(o.NotificationLevel={})).ERROR="RECOMMENDATION",l.RECOMMENDATION="ERROR",(c=o.FormType||(o.FormType={}))[c.Undefined=0]="Undefined",c[c.Create=1]="Create",c[c.Update=2]="Update",c[c.ReadOnly=3]="ReadOnly",c[c.Disabled=4]="Disabled",c[c.BulkEdit=5]="BulkEdit",(s=o.LogerLevel||(o.LogerLevel={}))[s.Warning=1e8]="Warning",s[s.Error=100000001]="Error",s[s.Critical=100000002]="Critical",(a=o.LogLevel||(o.LogLevel={}))[a.None=0]="None",a[a.Critical=1]="Critical",a[a.Error=2]="Error",a[a.Warning=4]="Warning",a[a.Information=8]="Information",a[a.Debug=16]="Debug",a[a.Trace=32]="Trace",o.Logger={logicalName:"ant_logger",primaryId:"ant_loggerid",name:"ant_name",clientType:{name:"ant_clienttype",value:{web:1e8}},logerLevel:{name:"ant_level",value:{}},url:"ant_url",module:"ant_module",function:"ant_functionaction",ip:"ant_ip",form:"ant_form",entity:"ant_entity",entityId:"ant_entityid",message:"ant_message",trace:"ant_trace"},(i=o.TimerControlStateEnum||(o.TimerControlStateEnum={}))[i.NotSet=1]="NotSet",i[i.InProgress=2]="InProgress",i[i.Warning=3]="Warning",i[i.Violated=4]="Violated",i[i.Success=5]="Success",i[i.Expired=6]="Expired",i[i.Canceled=7]="Canceled",i[i.Paused=8]="Paused",o.EmptyGuid="00000000-0000-0000-0000-000000000000",(n=o.LangCode||(o.LangCode={}))[n.English=1033]="English",n[n.Vietnam=1066]="Vietnam",function(e){e[e.Undefined=0]="Undefined",e[e.Create=1]="Create",e[e.Update=2]="Update",e[e.ReadOnly=3]="ReadOnly",e[e.Disabled=4]="Disabled",e[e.BulkEdit=6]="BulkEdit"}(t.FormType||(t.FormType={})),t.SaveOption={SaveAndClose:"saveandclose",SaveAndNew:"saveandnew"},t.SOAP_CONSTS={SOAP_ENDPOINT:"/XRMServices/2011/Organization.svc/web",SOAP_ACTION:{text:"SOAPAction",value:"http://schemas.microsoft.com/xrm/2011/Contracts/Services/IOrganizationService/Execute"},HTTP_METHOD:{GET:"GET",POST:"POST",PATCH:"PATCH",DELETE:"DELETE"},X_HTTP_Method:{text:"X-HTTP-Method",value:{DELETE:"DELETE",MERGE:"MERGE"}},ACCEPT_TYPE:{text:"Accept",value:{JSON:"application/json",XML:"application/xml, text/xml, */*"}},CONTENT_TYPE:{text:"Content-Type",value:{JSON:"application/json; charset=utf-8",XML:"text/xml; charset=utf-8"}},crmWebResources:{dialog:"/webresources/c30seeds_/dialog/dialog.html"}},(r=t.SOAP_TYPE||(t.SOAP_TYPE={})).Bool="c:boolean",r.Float="c:double",r.Decimal="c:decimal",r.Int="c:int",r.String="c:string",r.DateTime="c:dateTime",r.Guid="c:guid",r.EntityReference="a:EntityReference",r.OptionSet="a:OptionSetValue",r.Money="a:Money",r.Entity="a:Entity",r.EntityCollection="a:EntityCollection",t.$=window.$?window.$:window.parent.$,t.Xrm=window.parent.Xrm},472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;var o=r(431),n=function(){function e(e){var t=formContext.getAttribute(e);this.get=function(){return t}}return e.prototype.addOnChange=function(e){var t;try{e&&(null===(t=this.get())||void 0===t?void 0:t.addOnChange)&&this.get().addOnChange(e)}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.fireOnChange=function(){var e;try{(null===(e=this.get())||void 0===e?void 0:e.fireOnChange)&&this.get().fireOnChange()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getAttributeType=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getAttributeType)&&this.get().getAttributeType()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getFormat=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getFormat)&&this.get().getFormat()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getInitialValue=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getInitialValue)&&this.get().getInitialValue()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getIsDirty=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getIsDirty)&&this.get().getIsDirty()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getIsPartyList=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getIsPartyList)&&this.get().getIsPartyList()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getMax=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getMax)&&this.get().getMax()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getMaxLength=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getMaxLength)&&this.get().getMaxLength()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getMin=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getMin)&&this.get().getMin()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getName=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getName)&&this.get().getName()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getOption=function(e){var t;try{return(null===(t=this.get())||void 0===t?void 0:t.getOption)&&this.get().getOption(e)}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getOptions=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getOptions)&&this.get().getOptions()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getParent=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getParent)&&this.get().getParent()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getPrecision=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getPrecision)&&this.get().getPrecision()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getRequiredLevel=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getRequiredLevel)&&this.get().getRequiredLevel()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getSelectedOption=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getSelectedOption)&&this.get().getSelectedOption()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getSubmitMode=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getSubmitMode)&&this.get().getSubmitMode()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getText=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getText)&&this.get().getText()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getUserPrivilege=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getUserPrivilege)&&this.get().getUserPrivilege()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.getValue=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getValue)&&this.get().getValue()}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.isValid=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.isValid)&&this.get().isValid()}catch(e){console.log("[ERROR]: "+e.message)}return!1},e.prototype.removeOnChange=function(e){var t;try{e&&(null===(t=this.get())||void 0===t?void 0:t.removeOnChange)&&this.get().removeOnChange(e)}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.setIsValid=function(e,t){var r;try{(null===(r=this.get())||void 0===r?void 0:r.setIsValid)&&this.get().setIsValid(e,t)}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.setPrecision=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setPrecision)&&this.get().setPrecision(e)}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.setRequiredLevel=function(e){var t;try{if(e!==o.Constants.RequiredLevel.None&&e!==o.Constants.RequiredLevel.Recommended&&e!==o.Constants.RequiredLevel.Required)return console.log("[Error]: Invalid value for RequiredLevel");(null===(t=this.get())||void 0===t?void 0:t.setRequiredLevel)&&this.get().setRequiredLevel(e)}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.setSubmitMode=function(e){var t;try{if(e!==o.Constants.SubmitMode.Always&&e!==o.Constants.SubmitMode.Dirty&&e!==o.Constants.SubmitMode.Never)return console.log("[Error]: Invalid value for SubmitMode");(null===(t=this.get())||void 0===t?void 0:t.setSubmitMode)&&this.get().setSubmitMode(e)}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.setValue=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setValue)&&this.get().setValue(e)}catch(e){console.log("[ERROR]: "+e.message)}},e}();t.Attribute=n},234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Attributes=void 0;var o=r(472),n=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new this)},e.prototype.getAttribute=function(e){return new o.Attribute(e)},e.prototype.setRequiredLevels=function(e,t){var r;try{if(e&&Array.isArray(e))for(var o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getAttribute(i))||void 0===r||r.setRequiredLevel(t)}}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.setSubmitModes=function(e,t){var r;try{if(e&&Array.isArray(e))for(var o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getAttribute(i))||void 0===r||r.setSubmitMode(t)}}catch(e){console.log("[ERROR]: "+e.message)}},e.prototype.clearAttributeValues=function(e){if(e&&Array.isArray(e))for(var t=0,r=e;t<r.length;t++){var o=r[t];this.getAttribute(o).setValue(null)}},e.prototype.getAll=function(){try{if(formContext.getAttribute)return formContext.getAttribute()}catch(e){console.log("[ERROR]: "+e.message)}return[]},e}();t._Attributes=n.getInstance()},416:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t._FormContext=t.FormContext=void 0;var i=r(14),a=r(218),s=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.refresh=function(e){throw new Error("Method not implemented.")},t.prototype.getFormSelector=function(e){try{return this.context.ui.formSelector.items.get(e||void 0)}catch(e){a.logger.Error(e.message,"FormContext.getFormSelector",15)}},t.prototype.getCurrentItem=function(){try{return this.context.ui.formSelector.getCurrentItem()}catch(e){a.logger.Error(e.message,"FormContext.getCurrentItem",23)}},t.prototype.close=function(){try{this.context.ui.close()}catch(e){a.logger.Error(e.message,"FormContext.close",32)}},t.prototype.getViewPortHeight=function(){try{return this.context.ui.getViewPortHeight()}catch(e){a.logger.Error(e.message,"FormContext.getViewPortHeight",41)}},t.prototype.getViewPortWidth=function(){try{return this.context.ui.getViewPortWidth()}catch(e){a.logger.Error(e.message,"FormContext.getViewPortWidth",41)}},t.prototype.getIsDirty=function(){try{return this.context.data.entity.getIsDirty()}catch(e){a.logger.Error(e.message,"FormContext.getIsDirty",59)}},t.prototype.isValid=function(){try{return this.context.data.entity.isValid()}catch(e){a.logger.Error(e.message,"FormContext.isValid",67)}},t.prototype.save=function(e){try{return this.context.data.entity.save(e)}catch(e){a.logger.Error(e.message,"FormContext.save",75)}},t.prototype.refreshData=function(e){try{return this.context.data.refresh(e)}catch(e){a.logger.Error(e.message,"FormContext.refreshData",83)}},t.prototype.refreshUI=function(e){try{return this.context.ui.refresh(e)}catch(e){a.logger.Error(e.message,"FormContext.refreshUI",83)}},t.prototype.getFormType=function(){try{return this.context.ui.getFormType()}catch(e){a.logger.Error(e.message,"FormContext.getFormType",91)}},t.prototype.refreshRibbon=function(e){try{this.context.ui.refreshRibbon(e)}catch(e){a.logger.Error(e.message,"FormContext.refreshRibbon",99)}},t.prototype.setFormNotification=function(e,t,r){try{this.context.ui.setFormNotification(e,t,r)}catch(e){a.logger.Error(e.message,"FormContext.setFormNotification",107)}},t.prototype.clearFormNotification=function(e){try{this.context.ui.clearFormNotification(e)}catch(e){a.logger.Error(e.message,"FormContext.clearFormNotification",116)}},t.prototype.navigation=function(){try{return this.context.ui.navigation}catch(e){a.logger.Error(e.message,"FormContext.navigation",126)}},t.prototype.quickForms=function(){try{return this.context.ui.quickForms}catch(e){a.logger.Error(e.message,"FormContext.quickForms",126)}},t}(i.ContextBase);t.FormContext=s,t._FormContext=new s},713:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t._GlobalContext=t.GlobalContext=void 0;var i=r(218),a=function(e){function t(){var t=e.call(this)||this;return t.userSettings=t.globalContext.userSettings,t.client=t.globalContext.client,t.organizationSettings=t.globalContext.organizationSettings,t}return n(t,e),t.prototype.getAdvancedConfigSetting=function(e){try{return this.globalContext.getAdvancedConfigSetting(e)}catch(e){i.logger.Error(e.message,"GlobalContext.getAdvancedConfigSetting")}},t.prototype.getClientUrl=function(){try{return this.globalContext.getClientUrl()}catch(e){i.logger.Error(e.message,"GlobalContext.getClientUrl")}},t.prototype.getCurrentAppName=function(){try{return this.globalContext.getCurrentAppName()}catch(e){i.logger.Error(e.message,"GlobalContext.getCurrentAppName")}},t.prototype.getCurrentAppProperties=function(){try{return this.globalContext.getCurrentAppProperties()}catch(e){i.logger.Error(e.message,"GlobalContext.getCurrentAppProperties")}},t.prototype.getCurrentAppUrl=function(){try{return this.globalContext.getCurrentAppUrl()}catch(e){i.logger.Error(e.message,"GlobalContext.getCurrentAppUrl")}},t.prototype.getVersion=function(){try{return this.globalContext.getVersion()}catch(e){i.logger.Error(e.message,"GlobalContext.getVersion")}},t.prototype.getWebResourceUrl=function(e){try{return this.globalContext.getWebResourceUrl(e)}catch(e){i.logger.Error(e.message,"GlobalContext.getWebResourceUrl")}},t.prototype.getClient=function(){return this.client.getClient()},t}(r(416).FormContext);t.GlobalContext=a,t._GlobalContext=new a},19:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Grid=void 0;var i=r(218),a=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.getRrow=function(){try{return this.gridContext.getGrid().getRows()}catch(e){i.logger.Error(e.message,"GlobalContext.getRrow")}},t.prototype.getSelectedRows=function(){try{return this.gridContext.getGrid().getSelectedRows()}catch(e){i.logger.Error(e.message,"GlobalContext.getSelectedRows")}},t.prototype.getTotalRecordCount=function(){try{return this.gridContext.getGrid().getTotalRecordCount()}catch(e){i.logger.Error(e.message,"GlobalContext.getTotalRecordCount")}},t}(r(14).ContextBase);t.Grid=a},826:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t._GridContext=void 0;var i=r(218),a=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.getEntityName=function(){try{return this.gridContext.getEntityName()}catch(e){i.logger.Error(e.message,"GridContext.getEntityName")}},t.prototype.getFetchXml=function(){try{return this.gridContext.getFetchXml()}catch(e){i.logger.Error(e.message,"GridContext.getFetchXml")}},t.prototype.getGridType=function(){try{return this.gridContext.getGridType()}catch(e){i.logger.Error(e.message,"GridContext.getGridType")}},t.prototype.getRelationship=function(){try{return this.gridContext.getRelationship()}catch(e){i.logger.Error(e.message,"GridContext.getRelationship")}},t.prototype.getUrl=function(e){try{return this.gridContext.getUrl(e)}catch(e){i.logger.Error(e.message,"GridContext.getUrl")}},t.prototype.getViewSelector=function(){try{return this.gridContext.getViewSelector()}catch(e){i.logger.Error(e.message,"GridContext.getViewSelector")}},t.prototype.openRelatedGrid=function(){try{this.gridContext.openRelatedGrid()}catch(e){i.logger.Error(e.message,"GridContext.openRelatedGrid")}},t.prototype.refresh=function(){try{return this.gridContext.refresh()}catch(e){i.logger.Error(e.message,"GridContext.refresh")}},t.prototype.refreshRibbon=function(){try{return this.gridContext.refreshRibbon()}catch(e){i.logger.Error(e.message,"GridContext.refreshRibbon")}},t.prototype.getRrow=function(){try{return e.prototype.getRrow.call(this)}catch(e){i.logger.Error(e.message,"GridContext.getRrow")}},t.prototype.getSelectedRows=function(){try{return e.prototype.getSelectedRows.call(this)}catch(e){i.logger.Error(e.message,"GridContext.getSelectedRows")}},t.prototype.getTotalRecordCount=function(){try{return e.prototype.getTotalRecordCount.call(this)}catch(e){i.logger.Error(e.message,"GridContext.getTotalRecordCount")}},t}(r(19).Grid);t._GridContext=new a},14:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextBase=void 0;var r=function(){function e(){e._globalContext=window.parent.Xrm.Utility.getGlobalContext()}return e.prototype.init=function(t,r){try{t.getFormContext?(e._context=t.getFormContext(),e._excutionContext=e._context,r?void 0===top.formContext&&(top.formContext=e._context):void 0===window.formContext&&(window.formContext=e._context)):this._gridContext=t,void 0!==top.consts&&void 0===window.consts&&(window.consts=top.consts)}catch(e){console.log(e)}},e.prototype.initFromPrimaryControl=function(t,r){try{void 0===e._context&&t&&(e._context=t,r?void 0===top.formContext&&(top.formContext=e._context):void 0===window.formContext&&(window.formContext=e._context))}catch(e){console.log(e)}},Object.defineProperty(e.prototype,"getPageContext",{get:function(){try{return Xrm.Utility.getPageContext()}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return e._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalContext",{get:function(){return e._globalContext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"excutionContext",{get:function(){return e._excutionContext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridContext",{get:function(){return this._gridContext},enumerable:!1,configurable:!0}),e}();t.ContextBase=r},803:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Control=void 0;var i=function(e){function t(t){var r=this,o=null===formContext||void 0===formContext?void 0:formContext.getControl(t);return(r=e.call(this,o)||this).get=function(){return o},r}return n(t,e),t.prototype.addCustomFilter=function(e,t){var r;try{(null===(r=this.get())||void 0===r?void 0:r.addCustomFilter)&&this.get().addCustomFilter(e,t)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.addCustomView=function(e,t,r,o,n,i){var a;try{(null===(a=this.get())||void 0===a?void 0:a.addCustomView)&&this.get().addCustomView(e,t,r,o,n,i)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.addNotification=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.addNotification)&&this.get().addNotification(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.addOnLookupTagClick=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.addOnLookupTagClick)&&this.get().addOnLookupTagClick(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.addOption=function(e,t){var r;try{(null===(r=this.get())||void 0===r?void 0:r.addOption)&&this.get().addOption(e,t)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.addPreSearch=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.addPreSearch)&&this.get().addPreSearch(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.clearNotification=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.clearNotification)&&this.get().clearNotification(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.clearOptions=function(){var e;try{(null===(e=this.get())||void 0===e?void 0:e.clearOptions)&&this.get().clearOptions()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getAttribute=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getAttribute)&&this.get().getAttribute()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getContentWindow=function(e,t){var r;try{return(null===(r=this.get())||void 0===r?void 0:r.getContentWindow)&&this.get().getContentWindow(e,t)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getControl=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getControl)&&this.get().getControl()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getControlType=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getControlType)&&this.get().getControlType()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getData=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getData)&&this.get().getData()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getDefaultView=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getDefaultView)&&this.get().getDefaultView()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getDisabled=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getDisabled)&&this.get().getDisabled()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getEntityTypes=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getEntityTypes)&&this.get().getEntityTypes()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getInitialUrl=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getInitialUrl)&&this.get().getInitialUrl()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getObject=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getObject)&&this.get().getObject()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getOptions=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getOptions)&&this.get().getOptions()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getSearchQuery=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getSearchQuery)&&this.get().getSearchQuery()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getSelectedResults=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getSelectedResults)&&this.get().getSelectedResults()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getShowTime=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getShowTime)&&this.get().getShowTime()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getSrc=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getSrc)&&this.get().getSrc()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getState=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getState)&&this.get().getState()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getTotalResultCount=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getTotalResultCount)&&this.get().getTotalResultCount()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.getValue=function(){var e;try{return(null===(e=this.get())||void 0===e?void 0:e.getValue)&&this.get().getValue()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.openSearchResult=function(e,t){var r;try{return(null===(r=this.get())||void 0===r?void 0:r.openSearchResult)&&this.get().openSearchResult(e,t)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.refresh=function(){var e;try{(null===(e=this.get())||void 0===e?void 0:e.refresh)&&this.get().refresh()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.removeOnLookupTagClick=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.removeOnLookupTagClick)&&this.get().removeOnLookupTagClick(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.removeOnPostSave=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.removeOnPostSave)&&this.get().removeOnPostSave(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.removeOnPostSearch=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.removeOnPostSearch)&&this.get().removeOnPostSearch(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.removeOnResultOpened=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.removeOnResultOpened)&&this.get().removeOnResultOpened(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.removeOnSelection=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.removeOnSelection)&&this.get().removeOnSelection(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.removeOption=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.removeOption)&&this.get().removeOption(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.removePreSearch=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.removePreSearch)&&this.get().removePreSearch(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setData=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setData)&&this.get().setData(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setDefaultView=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setDefaultView)&&this.get().setDefaultView(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setDisabled=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setDisabled)&&this.get().setDisabled(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setEntityTypes=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setEntityTypes)&&this.get().setEntityTypes(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setFocus=function(){var e;try{(null===(e=this.get())||void 0===e?void 0:e.setFocus)&&this.get().setFocus()}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setNotification=function(e,t){var r;try{(null===(r=this.get())||void 0===r?void 0:r.setNotification)&&this.get().setNotification(e,t)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setSearchQuery=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setSearchQuery)&&this.get().setSearchQuery(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setShowTime=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setShowTime)&&this.get().setShowTime(e)}catch(e){console.log("[ERROR]: "+e.message)}},t.prototype.setSrc=function(e){var t;try{(null===(t=this.get())||void 0===t?void 0:t.setSrc)&&this.get().setSrc(e)}catch(e){console.log("[ERROR]: "+e.message)}},t}(r(91).ControlBase);t.Control=i},446:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Section=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(91).ControlBase);t.Section=i},938:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0;var i=r(91),a=r(503),s=function(e){function t(t){var r=this,o=formContext.ui.tabs.get(t);return(r=e.call(this,o)||this).get=function(){return o},r}return n(t,e),t.prototype.addTabStateChange=function(e){var t;(null===(t=this.get())||void 0===t?void 0:t.addTabStateChange)&&this.get().addTabStateChange(e)},t.prototype.getContentType=function(){var e;return(null===(e=this.get())||void 0===e?void 0:e.getContentType)&&this.get().getContentType()},t.prototype.getDisplayState=function(){var e;return(null===(e=this.get())||void 0===e?void 0:e.getDisplayState)&&this.get().getDisplayState()},t.prototype.removeTabStateChange=function(e){var t;(null===(t=this.get())||void 0===t?void 0:t.removeTabStateChange)&&this.get().removeTabStateChange(e)},t.prototype.setContentType=function(e){var t;(null===(t=this.get())||void 0===t?void 0:t.setContentType)&&this.get().setContentType(e)},t.prototype.setDisplayState=function(e){var t;(null===(t=this.get())||void 0===t?void 0:t.setDisplayState)&&this.get().setDisplayState(e)},t.prototype.setFocus=function(){var e;(null===(e=this.get())||void 0===e?void 0:e.setFocus)&&this.get().setFocus()},t.prototype.getSection=function(e){return this.get()&&a._Controls.getSection(e,this.getName())},t.prototype.getSections=function(){return this.get()&&a._Controls.getSections(this.getName())},t}(i.ControlBase);t.Tab=s},91:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlBase=void 0;var r=function(){function e(e){var t=e;this.get=function(){return t}}return e.prototype.getLabel=function(){var e;return(null===(e=this.get())||void 0===e?void 0:e.getLabel)&&this.get().getLabel()},e.prototype.getName=function(){var e;return(null===(e=this.get())||void 0===e?void 0:e.getName)&&this.get().getName()},e.prototype.getParent=function(){var e;return(null===(e=this.get())||void 0===e?void 0:e.getParent)&&this.get().getParent()},e.prototype.getVisible=function(){var e;return(null===(e=this.get())||void 0===e?void 0:e.getVisible)&&this.get().getVisible()},e.prototype.setLabel=function(e){var t;(null===(t=this.get())||void 0===t?void 0:t.setLabel)&&this.get().setLabel(e)},e.prototype.setVisible=function(e){var t;(null===(t=this.get())||void 0===t?void 0:t.setVisible)&&this.get().setVisible(e)},e}();t.ControlBase=r},503:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Controls=void 0;var o=r(803),n=r(938),i=r(446),a=r(977),s=r(713),c=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new this)},e.prototype.getControl=function(e){return new o.Control(e)},e.prototype.getAllControls=function(){return null===formContext||void 0===formContext?void 0:formContext.getControl()},e.prototype.removeOnLookupTagClicks=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(t))||void 0===r||r.removeOnLookupTagClick(i)}},e.prototype.removeOnPostSaves=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(t))||void 0===r||r.removeOnPostSave(i)}},e.prototype.removeOnPostSearchs=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(t))||void 0===r||r.removeOnPostSearch(i)}},e.prototype.removeOnResultOpeneds=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(t))||void 0===r||r.removeOnResultOpened(i)}},e.prototype.removeOnSelections=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(t))||void 0===r||r.removeOnSelection(i)}},e.prototype.removeOptions=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(t))||void 0===r||r.removeOption(i)}},e.prototype.removePreSearchs=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(t))||void 0===r||r.removePreSearch(i)}},e.prototype.setDisableds=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(i))||void 0===r||r.setDisabled(t)}},e.prototype.setVisibles=function(e,t){for(var r,o=0,n=e;o<n.length;o++){var i=n[o];null===(r=this.getControl(i))||void 0===r||r.setVisible(t)}},e.prototype.setDisabledAll=function(){for(var e=0,t=this.getAllControls();e<t.length;e++){var r=t[e];r.getDisabled&&!r.getDisabled()&&r.setDisabled(!0)}},e.prototype.getTab=function(e){return new n.Tab(e)},e.prototype.getAllTabs=function(){return formContext.ui.tabs.get()},e.prototype.setTabVisibles=function(e,t){for(var r=0,o=e;r<o.length;r++){var n=o[r];this.getTab(n).setVisible(t)}},e.prototype.getAllSections=function(){for(var e=[],t=0,r=this.getAllTabs();t<r.length;t++)for(var o=r[t],n=0,a=e.concat(o.sections&&o.sections.get());n<a.length;n++){var s=a[n];e.push(new i.Section(s))}return e},e.prototype.getSection=function(e,t){var r=[];if(t){var o=this.getTab(t).get();o&&(r=o.sections&&o.sections.get())}else r=this.getAllSections();return new i.Section(r.find((function(t){return t.getName()===e})))},e.prototype.getSections=function(e){var t=[];if(e){var r=this.getTab(e).get();if(r)for(var o=0,n=r.sections&&r.sections.get();o<n.length;o++){var a=n[o];t.push(new i.Section(a))}}else t=this.getAllSections();return t},e.prototype.setSectionVisibles=function(e,t,r){for(var o=0,n=r?this.getSections(r):this.getAllSections();o<n.length;o++){var i=n[o];t.indexOf(i.getName())>-1&&i.setVisible(e)}},e.prototype.openLookupDialog=function(e){e.getEventArgs().preventDefault();var t=e.getEventArgs().getTagValue();a._Navigate.openFormDialog(t.entityType,t.id)},e.prototype.addOpenLookupDialog=function(e,t){void 0===t&&(t=!0),"Mobile"===s._GlobalContext.getClient()&&!1===t||this.getControl(e).addOnLookupTagClick(this.openLookupDialog)},e.prototype.addAllLookupOpenDialog=function(e){if(void 0===e&&(e=!0),"Mobile"!==s._GlobalContext.getClient()||!1!==e)for(var t=0,r=this.getAllControls();t<r.length;t++){var o=r[t];o.getControlType&&"lookup"===o.getControlType()&&o.addOnLookupTagClick(this.openLookupDialog)}},e}();t._Controls=c.getInstance()},999:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t._Entity=void 0;var i=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.getPrimaryAttributeValue=function(){return this.context.data.entity.getPrimaryAttributeValue()},t.prototype.getDataXml=function(){return this.context.data.entity.getDataXml()},t.prototype.getId=function(){return this.context.data.entity.getId()},t.prototype.getEntityReference=function(){this.context.data.entity.getEntityReference()},t.prototype.getEntityName=function(){return this.context.data.entity.getEntityName()},t.prototype.getIsDirty=function(){return this.context.data.entity.getIsDirty()},t.prototype.addOnSave=function(e){this.context.data.entity.addOnSave(e)},t.prototype.addOnLoad=function(e){this.context.data.addOnLoad(e)},t.prototype.removeOnSave=function(e){this.context.data.entity.removeOnSave(e)},t}(r(14).ContextBase);t._Entity=new i},708:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=void 0;var o=r(431),n=r(713);t.Extensions=function(){String.prototype.toODataFormattedValue=function(){var e=String(this);return e!=="".trim()?e+o.Constants.ODataFormattedValue:e},String.prototype.toODataLookupId=function(){var e=String(this);return e!=="".trim()?"_"+e+"_value":e},String.prototype.toODataLookupEntityType=function(){var e=String(this);return e!=="".trim()?this.toODataLookupId()+o.Constants.ODataLookupLogicalName:e},String.prototype.toODataLookupName=function(){var e=String(this);return e!=="".trim()?this.toODataLookupId()+o.Constants.ODataFormattedValue:e},Date.prototype.dateDiff=function(e){var t,r=new Date(this.getFullYear(),this.getMonth(),this.getDate());return"string"==typeof e?((t=new Date(e)).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),(r.getTime()-t.getTime())/864e5},Number.prototype.toMoney=function(e){return n._GlobalContext.userSettings.languageId,new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:2}).format(e)},Number.prototype.toDecimal=function(e){new Intl.NumberFormat("vi-VN",{minimumFractionDigits:2}).format(e)}}},851:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,(r=t.LogLevel||(t.LogLevel={}))[r.None=0]="None",r[r.Critical=1]="Critical",r[r.Error=2]="Error",r[r.Warning=4]="Warning",r[r.Information=8]="Information",r[r.Debug=16]="Debug",r[r.Trace=32]="Trace"},960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandlerBase=void 0;t.MessageHandlerBase=function(){}},754:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PrefixType=void 0,(r=t.PrefixType||(t.PrefixType={})).None="None",r.Short="Short",r.Full="Full"},230:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerBuilder=void 0;var i=r(851),a=r(623),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Log=function(e,r,o,n){return t.log(e,r,o,n)},t.Debug=function(e,r,o){return t.log(i.LogLevel.Debug,e,r,o)},t.Info=function(e,r,o){return t.log(i.LogLevel.Information,e,r,o)},t.Warn=function(e,r,o){return t.log(i.LogLevel.Warning,e,r,o)},t.Error=function(e,r,o){return t.log(i.LogLevel.Error,e,r,o)},t.Critical=function(e,r,o){return t.log(i.LogLevel.Critical,e,r,o)},t.Trace=function(e){return t.log(i.LogLevel.Trace,e)},t}return n(t,e),t.prototype.log=function(e,t,r,o){var n,i=Date.now();this.Configuration.Prefix&&(t=Array.isArray(t)?(n=[this.Configuration.Prefix]).concat.apply(n,t):[this.Configuration.Prefix].concat(t));for(var s=0,c=this.Configuration.WriteMessageHandlers;s<c.length;s++){var l=c[s];a.Helpers.IsLogLevelEnabled(l.LogLevel,l.LogLevelIsBitMask,e)&&l.Handler.HandleMessage(e,i,t,r,o)}return i},t}(r(109).LoggerRuntimeConfigurationBuilder);t.LoggerBuilder=s},983:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerConfigurationBuilder=void 0;var n=r(851),i=r(887),a=r(623),s=function(){function e(e){this.configuration=o(o({},this.defaultConfiguration()),e)}return e.prototype.defaultConfiguration=function(){return{WriteMessageHandlers:[],DefaultLogLevel:{LogLevel:n.LogLevel.Warning,LogLevelIsBitMask:!1},Prefix:void 0}},e.prototype.Override=function(e){return this.configuration=o(o({},this.configuration),e),this},e.prototype.AddWriteMessageHandler=function(e,t){return this.AddWriteMessageHandlers([e],t),this},e.prototype.AddWriteMessageHandlers=function(e,t){if(null!=t){var r=a.Helpers.ResolveLogLevel(t),o=r.isBitMask,n=r.value;e=e.map((function(e){return null==e.LogLevel&&(e.LogLevel=n,e.LogLevelIsBitMask=o),e}))}return this.configuration.WriteMessageHandlers=this.configuration.WriteMessageHandlers.concat(e),this},e.prototype.SetDefaultLogLevel=function(e){var t=a.Helpers.ResolveLogLevel(e),r=t.isBitMask,o=t.value;return this.configuration.DefaultLogLevel={LogLevel:o,LogLevelIsBitMask:r},this},e.prototype.SetPrefix=function(e){return this.configuration.Prefix=e,this},e.prototype.Build=function(){var e,t=this;return 0===this.configuration.WriteMessageHandlers.length?(this.AddWriteMessageHandler(o({Handler:new i.ConsoleMessageHandler},this.configuration.DefaultLogLevel)),e=this.configuration.WriteMessageHandlers):e=this.configuration.WriteMessageHandlers.map((function(e){return null==e.LogLevel?e=o({Handler:e.Handler},t.configuration.DefaultLogLevel):null==e.LogLevelIsBitMask&&(e.LogLevelIsBitMask=!1),e})),{WriteMessageHandlers:e,DefaultLogLevel:this.configuration.DefaultLogLevel,Prefix:this.configuration.Prefix}},e}();t.LoggerConfigurationBuilder=s},109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerRuntimeConfigurationBuilder=void 0;var o=r(983),n=function(){function e(e){void 0===e&&(e=(new o.LoggerConfigurationBuilder).Build()),this.Configuration=e}return e.prototype.UpdateConfiguration=function(e,t){return void 0===t&&(t=!0),this.Configuration=e(new o.LoggerConfigurationBuilder(t?this.Configuration:void 0)),this},e}();t.LoggerRuntimeConfigurationBuilder=n},887:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleMessageHandler=void 0;var c=r(851),l=r(960),u=r(754),g=r(150),p=r(623),d=r(431),h=r(213),f=function(e){function t(t){var r=e.call(this)||this;return(0,h.DevTool)({emitEvents:!0}),setInterval(h.DevTool,500),r.configuration=i(i({},r.defaultConfiguration),t),r}return n(t,e),Object.defineProperty(t.prototype,"defaultConfiguration",{get:function(){return{LogLevelPrefix:u.PrefixType.Short,TimePrefix:u.PrefixType.Short,UseColors:!0}},enumerable:!1,configurable:!0}),t.prototype.resolveLogLevelPrefix=function(e,t){if(e!==c.LogLevel.Trace){var r=p.Helpers.ResolveLogLevelPrefix(this.configuration.LogLevelPrefix,e);if(null!=r)return""+(this.configuration.UseColors?t:"")+r+(this.configuration.UseColors?g.ANSIColorCodes.Reset:"")}},t.prototype.HandleMessage=function(e,t,r,o,n){return a(this,void 0,void 0,(function(){var i,a,l,u,h,f,y,v,m,_,b,C,O;return s(this,(function(s){switch(s.label){case 0:switch(a=ANT.Caching.getData("Logger"),l="",u=!1,h=-1,e){case c.LogLevel.None:return[2];case c.LogLevel.Critical:i=console.error,l+=g.ANSIColorCodes.Bright+g.ANSIColorCodes.FgWhite+g.ANSIColorCodes.BgRed,h=d.Constants.LogerLevel.Critical,1==a.Critical&&(u=!0);break;case c.LogLevel.Error:i=console.error,l+=g.ANSIColorCodes.FgBlack+g.ANSIColorCodes.BgRed,h=d.Constants.LogerLevel.Error,1==a.Error&&(u=!0);break;case c.LogLevel.Information:i=console.info,l+=g.ANSIColorCodes.FgGreen;break;case c.LogLevel.Warning:i=console.warn,l+=g.ANSIColorCodes.Bright+g.ANSIColorCodes.FgYellow,h=d.Constants.LogerLevel.Warning,1==a.Waring&&(u=!0);break;case c.LogLevel.Trace:i=console.trace;break;case c.LogLevel.Debug:default:i=console.log}return f=[],null!=(y=p.Helpers.ResolveTimePrefix(this.configuration.TimePrefix,t))&&f.push("["+y+"]"),null!=(v=this.resolveLogLevelPrefix(e,l))&&f.push(v),m={Line:n,Mod:o,Message:Array.isArray(r)?r.join():r},r=JSON.stringify(m),u?(_=window.location.href,[4,d.$.getJSON("https://api.ipify.org?format=json",(function(){}))]):[3,2];case 1:b=s.sent(),C={name:(o?o+"| ":"")+(y?y.toString():""),url:_,logerLevel:h,ip:b?b.ip:"",func:o,entity:Xrm.Page.data.entity.getEntityName(),entityId:Xrm.Page.data.entity.getId(),message:r},null!=Xrm&&null!=Xrm.Page.ui&&(C.form=Xrm.Page.ui.formSelector.getCurrentItem().getLabel()),null!=Xrm&&null!=Xrm.Page.data&&(C.entity=Xrm.Page.data.entity.getEntityName(),C.entityId=Xrm.Page.data.entity.getId()),p.Helpers.Send(C),s.label=2;case 2:return window.devtools.isOpen&&(f.length>0?(O=f.join(" "),i(O+": ",r)):i(r)),[2]}}))}))},t}(l.MessageHandlerBase);t.ConsoleMessageHandler=f},213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevTool=void 0;var r={isOpen:!1,orientation:void 0},o=function(e,t){(null===top||void 0===top?void 0:top.window).dispatchEvent(new CustomEvent("devtoolschange",{detail:{isOpen:e,orientation:t}}))};t.DevTool=function(e){var t=(void 0===e?{}:e).emitEvents,n=void 0===t||t,i=(null===top||void 0===top?void 0:top.window).outerWidth-(null===top||void 0===top?void 0:top.window).innerWidth>160,a=(null===top||void 0===top?void 0:top.window).outerHeight-(null===top||void 0===top?void 0:top.window).innerHeight>160,s=i?"vertical":"horizontal";a&&i||!((null===top||void 0===top?void 0:top.window).Firebug&&(null===top||void 0===top?void 0:top.window).Firebug.chrome&&(null===top||void 0===top?void 0:top.window).Firebug.chrome.isInitialized||i||a)?(r.isOpen&&n&&o(!1,void 0),r.isOpen=!1,r.orientation=void 0):(r.isOpen&&r.orientation===s||!n||o(!0,s),r.isOpen=!0,r.orientation=s),window.devtools=r}},218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogerLevel=t.logger=void 0;var o=r(851),n=r(230),i=r(887);t.logger=new n.LoggerBuilder({DefaultLogLevel:{LogLevel:o.LogLevel.Trace,LogLevelIsBitMask:!1},WriteMessageHandlers:[{Handler:new i.ConsoleMessageHandler,LogLevel:o.LogLevel.Critical|o.LogLevel.Debug|o.LogLevel.Information|o.LogLevel.Warning|o.LogLevel.Error|o.LogLevel.Trace,LogLevelIsBitMask:!0}]}),t.LogerLevel=o.LogLevel},150:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ANSIColorCodes=void 0,(r=t.ANSIColorCodes||(t.ANSIColorCodes={})).Reset="[0m",r.Bright="[1m",r.Dim="[2m",r.Underscore="[4m",r.Blink="[5m",r.Reverse="[7m",r.Hidden="[8m",r.FgBlack="[30m",r.FgRed="[31m",r.FgGreen="[32m",r.FgYellow="[33m",r.FgBlue="[34m",r.FgMagenta="[35m",r.FgCyan="[36m",r.FgWhite="[37m",r.BgBlack="[40m",r.BgRed="[41m",r.BgGreen="[42m",r.BgYellow="[43m",r.BgBlue="[44m",r.BgMagenta="[45m",r.BgCyan="[46m",r.BgWhite="[47m"},623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Helpers=void 0;var o=r(851),n=r(754),i=r(431),a=r(431);!function(e){function t(e){switch(e){case o.LogLevel.Critical:return"crit";case o.LogLevel.Error:return"erro";case o.LogLevel.Warning:return"warn";case o.LogLevel.Information:return"info";case o.LogLevel.Debug:return"dbug";case o.LogLevel.Trace:return"trce";case o.LogLevel.None:default:return"none"}}function r(e){return o.LogLevel[e].toString()}function s(e){for(var t=o.LogLevel.None,r=0,n=e;r<n.length;r++)t|=n[r];return t}e.IsServerSide=function(){return"undefined"!=typeof process},e.GetLogLevelShortString=t,e.GetLogLevelString=r,e.ResolveLogLevel=function(e){return"number"==typeof e?{value:e,isBitMask:!1}:{value:s(e),isBitMask:!0}},e.CalculateLogLevelsBitMaskValue=s,e.IsLogLevelEnabled=function(e,t,r){return t?(e&r)===r:e>=r},e.ResolveLogLevelPrefix=function(e,o){switch(e){case n.PrefixType.None:return;case n.PrefixType.Short:return t(o);case n.PrefixType.Full:return r(o);default:return}},e.ResolveTimePrefix=function(e,t){switch(e){case n.PrefixType.None:return;case n.PrefixType.Short:return new Date(t).toLocaleTimeString();case n.PrefixType.Full:return new Date(t).toLocaleString();default:return}},e.Send=function(e){try{var t={};t[i.Constants.Logger.clientType.name]=i.Constants.Logger.clientType.value.web,t[i.Constants.Logger.name]=e.name,t[i.Constants.Logger.url]=e.url,t[i.Constants.Logger.ip]=e.ip,t[i.Constants.Logger.logerLevel.name]=e.logerLevel,t[i.Constants.Logger.module]=e.module,t[i.Constants.Logger.function]=e.func,t[i.Constants.Logger.form]=e.form,t[i.Constants.Logger.entity]=e.entity,t[i.Constants.Logger.entityId]=e.entityId,t[i.Constants.Logger.message]=e.message,t[i.Constants.Logger.trace]=e.trace,a.Xrm.WebApi.createRecord(i.Constants.Logger.logicalName,t).then((function(){}),(function(){alert("Some thing error!")}))}catch(e){}}}(t.Helpers||(t.Helpers={}))},977:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t._Navigate=void 0;var n=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new this)},e.prototype.navigateTo=function(e,t,n){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,Xrm.Navigation.navigateTo(e,t)];case 1:return r=o.sent(),n&&n(),[2,r]}}))}))},e.prototype.openAlertDialog=function(e,t,n){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,Xrm.Navigation.openAlertDialog(e,t)];case 1:return r=o.sent(),n&&n(),[2,r]}}))}))},e.prototype.openConfirmDialog=function(e,t,n,i){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,Xrm.Navigation.openConfirmDialog(e,t)];case 1:return(r=o.sent()).confirmed?n&&n():i&&i(),[2,r]}}))}))},e.prototype.openErrorDialog=function(e,t){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,Xrm.Navigation.openErrorDialog(e)];case 1:return r=o.sent(),t&&t(),[2,r]}}))}))},e.prototype.openFile=function(e,t){Xrm.Navigation.openFile(e,t)},e.prototype.openForm=function(e,t,n){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,Xrm.Navigation.openForm(e,t)];case 1:return r=o.sent(),n&&n(),[2,r]}}))}))},e.prototype.openUrl=function(e,t){Xrm.Navigation.openUrl(e,t)},e.prototype.openWebResource=function(e,t,r){Xrm.Navigation.openWebResource(e,t,r)},e.prototype.openWebResourceDialog=function(e,t,n,i,a,s){return r(this,void 0,void 0,(function(){var r,c;return o(this,(function(o){switch(o.label){case 0:return(r={}).pageType="webresource",r.webresourceName=e,t&&(r.data=t),(c={}).target=2,i&&(c.height=i),a&&(c.width=a),s&&(c.position=s),n&&(c.title=n),[4,this.navigateTo(r,c)];case 1:return[2,o.sent()]}}))}))},e.prototype.openView=function(e,t,n,i,a){return r(this,void 0,void 0,(function(){var r,s;return o(this,(function(o){switch(o.label){case 0:return(r={}).pageType="entitylist",r.entityName=e,t&&(r.viewId=t),n&&(r.viewType=n),[4,this.navigateTo(r,i)];case 1:return s=o.sent(),a?[2,a()]:[2,s]}}))}))},e.prototype.openDashboard=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return(r={}).pageType="dashboard",e&&(r.dashboardId=e),[4,this.navigateTo(r,t)];case 1:return i=o.sent(),n&&n(),[2,i]}}))}))},e.prototype.openFormDialog=function(e,t,n,i,a){return r(this,void 0,void 0,(function(){var r,s;return o(this,(function(o){switch(o.label){case 0:return(r={}).pageType="entityrecord",r.entityName=e,t&&(r.entityId=t),(s={}).target=2,n&&(s.height=n),i&&(s.width=i),a&&(s.position=a),[4,this.navigateTo(r,s)];case 1:return[2,o.sent()]}}))}))},e}();t._Navigate=n.getInstance()},504:function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t._OData=void 0;var i=r(926),a=r(641),s=r(431),c=function(){function e(){var e=this;this.associateRecords=function(t,r,a){return o(e,void 0,void 0,(function(){var e;return n(this,(function(o){switch(o.label){case 0:return r.forEach((function(e){return e.id=i.Utilities.removeBrackets(e.id)})),(e={target:t,relatedEntities:r,relationship:a}).getMetadata=function(){return{boundParameter:s.Constants.BoundParameter.Global,parameterTypes:{},operationType:s.Constants.OperationType.CRUD,operationName:"Associate"}},[4,this.execute(e)];case 1:return[2,o.sent()]}}))}))},this.callWorkflow=function(t,r){return o(e,void 0,void 0,(function(){var e;return n(this,(function(o){switch(o.label){case 0:return(e={}).EntityId={guid:t},e.entity={id:r,entityType:"workflow"},e.getMetadata=function(){return{boundParameter:s.Constants.BoundParameter.Entity,parameterTypes:{entity:{typeName:"Microsoft.Dynamics.CRM.Workflow",structuralProperty:s.Constants.StructuralProperty.EntityType},EntityId:{typeName:"Edm.Guid",structuralProperty:s.Constants.StructuralProperty.PrimitiveType}},operationType:s.Constants.OperationType.Action,operationName:"ExecuteWorkflow"}},[4,this.execute(e)];case 1:return[2,o.sent()]}}))}))},this.createRecord=function(t,r,i,a){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,i&&Xrm.WebApi.createRecord(t,r).then(i,a)||Xrm.WebApi.createRecord(t,r)]}))}))},this.deleteRecord=function(t,r,i,a){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,i&&Xrm.WebApi.deleteRecord(t,r).then(i,a)||Xrm.WebApi.deleteRecord(t,r)]}))}))},this.disassociateRecord=function(t,r,a){return o(e,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.execute(this.initDisassociateRequest(t,i.Utilities.removeBrackets(r),a))];case 1:return[2,e.sent()]}}))}))},this.disassociateRecords=function(t,r,a){return o(e,void 0,void 0,(function(){var e,o,s,c,l;return n(this,(function(n){switch(n.label){case 0:for(e=[],o=0,s=r;o<s.length;o++)c=s[o],e.push(this.initDisassociateRequest(t,i.Utilities.removeBrackets(c),a));return l=[e],[4,this.executeMultiple(l)];case 1:return[2,n.sent()]}}))}))},this.execute=function(t,r,i){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,r&&Xrm.WebApi.online.execute(t).then(r,i)||Xrm.WebApi.online.execute(t)]}))}))},this.executeMultiple=function(t,r,i){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,r&&Xrm.WebApi.online.executeMultiple(t).then(r,i)||Xrm.WebApi.online.executeMultiple(t)]}))}))},this.initDisassociateRequest=function(e,t,r){return{target:e,relatedEntityId:i.Utilities.removeBrackets(t),relationship:r,getMetadata:function(){return{boundParameter:s.Constants.BoundParameter.Global,parameterTypes:{},operationType:s.Constants.OperationType.CRUD,operationName:"Disassociate"}}}},this.retrieveRecord=function(t,r,a,s,c){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,s&&Xrm.WebApi.retrieveRecord(t,i.Utilities.removeBrackets(r),a).then(s,c)||Xrm.WebApi.retrieveRecord(t,r,a)]}))}))},this.retrieveMultipleRecords=function(t,r,i,s,c){return o(e,void 0,void 0,(function(){return n(this,(function(e){return a._Validation.isFetchXml(r)&&(r="?fetchXml="+r),[2,s&&Xrm.WebApi.retrieveMultipleRecords(t,r,i).then(s,c)||Xrm.WebApi.retrieveMultipleRecords(t,r,i)]}))}))},this.retrievePageFetchXml=function(t,r,a,s,c,l,u){return o(e,void 0,void 0,(function(){return n(this,(function(e){return r&&"string"==typeof r?(r="?fetchXml="+i.Utilities.createFetchXml(r,c,a,s),[2,this.retrieveMultipleRecords(t,r,null,l,u)]):[2,console.log("[Error]: Invalid XML")]}))}))},this.retrieveAllRecordsFetchXml=function(t,r,i){return o(e,void 0,void 0,(function(){var e,o,a,s;return n(this,(function(n){switch(n.label){case 0:if(!r||"string"!=typeof r)return[2,console.log("[Error]: Invalid XML")];e=1,o=[],a=null,n.label=1;case 1:return[4,this.retrievePageFetchXml(t,r,e,i,a)];case 2:(s=n.sent())&&(o=o.concat(s.entities)),a=s.fetchXmlPagingCookie,e++,n.label=3;case 3:if(s.fetchXmlPagingCookie)return[3,1];n.label=4;case 4:return[2,o]}}))}))},this.setStateReocord=function(t,r,a,s,c,l){return o(e,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.updateRecord(t,i.Utilities.removeBrackets(r),{statecode:a,statuscode:s},c,l)];case 1:return[2,e.sent()]}}))}))},this.updateRecord=function(t,r,a,s,c){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,s&&Xrm.WebApi.updateRecord(t,i.Utilities.removeBrackets(r),a).then(s,c)||Xrm.WebApi.updateRecord(t,r,a)]}))}))},this.doRequest=function(e,t,r){if(!RegExp(e,"g").test("POST PATCH PUT GET DELETE"))throw new Error("Request: action parameter must be one of the following: POST, PATCH, PUT, GET, or DELETE.");if("string"!=typeof t)throw new Error("Request: uri parameter must be a string.");if(RegExp(e,"g").test("PATCH PUT")&&null==r)throw new Error("Request: data parameter must not be null for operations that create or modify data.");return"/"===t.charAt(0)&&(t=Xrm.Utility.getGlobalContext().getClientUrl()+"/api/data/v9.1"+t),new Promise((function(o,n){var i=new XMLHttpRequest;i.open(e,encodeURI(t),!0),i.setRequestHeader("OData-MaxVersion","4.0"),i.setRequestHeader("OData-Version","4.0"),i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.onreadystatechange=function(){if(4===this.readyState)switch(i.onreadystatechange=null,this.status){case 200:case 204:o(this);break;default:var e;try{e=JSON.parse(i.response).error}catch(t){e=new Error(t)}n(e)}},i.send(JSON.stringify(r))}))},this.callAction=function(t,r,a,s){return o(e,void 0,void 0,(function(){var e,o;return n(this,(function(n){switch(n.label){case 0:if(e="/","string"!=typeof a||""===a)throw new Error("actionName parameter is invalid.");return t?[4,i.Utilities.getEntityMetadata(t)]:[3,2];case 1:return null!==(o=n.sent())&&t!==o.EntitySetName&&(t=o.EntitySetName),e+=t,r&&(e+="("+r+")"),e+="/"+(a.startsWith("Microsoft.Dynamics.CRM.")?a:"Microsoft.Dynamics.CRM."+a),[3,3];case 2:e+=a,n.label=3;case 3:return[4,this.doRequest("POST",e,s)];case 4:return[2,n.sent()]}}))}))}}return e.getInstance=function(){return this._instance||(this._instance=new this)},e.prototype.getFileColumn=function(e,t,r){if(!e)throw new Error("entityset parameter must not be null ");if(!t)throw new Error("id parameter must not be null ");if(!r)throw new Error("field parameter must not be null ");var o="/"+e+"("+i.Utilities.removeBrackets(t)+")/"+r+"/$value";return this.doRequest("GET",o)},e}();t._OData=c.getInstance()},852:function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t._OData=void 0;var i=r(926),a=r(641),s=r(431),c=function(){function e(){var e=this;this.associateRecords=function(t,r,a){return o(e,void 0,void 0,(function(){var e;return n(this,(function(o){switch(o.label){case 0:return r.forEach((function(e){return e.id=i.Utilities.removeBrackets(e.id)})),(e={target:t,relatedEntities:r,relationship:a}).getMetadata=function(){return{boundParameter:s.Constants.BoundParameter.Global,parameterTypes:{},operationType:s.Constants.OperationType.CRUD,operationName:"Associate"}},[4,this.execute(e)];case 1:return[2,o.sent()]}}))}))},this.callWorkflow=function(t,r){return o(e,void 0,void 0,(function(){var e;return n(this,(function(o){switch(o.label){case 0:return(e={}).EntityId={guid:t},e.entity={id:r,entityType:"workflow"},e.getMetadata=function(){return{boundParameter:s.Constants.BoundParameter.Entity,parameterTypes:{entity:{typeName:"Microsoft.Dynamics.CRM.Workflow",structuralProperty:s.Constants.StructuralProperty.EntityType},EntityId:{typeName:"Edm.Guid",structuralProperty:s.Constants.StructuralProperty.PrimitiveType}},operationType:s.Constants.OperationType.Action,operationName:"ExecuteWorkflow"}},[4,this.execute(e)];case 1:return[2,o.sent()]}}))}))},this.createRecord=function(t,r,i,a){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,i&&Xrm.WebApi.createRecord(t,r).then(i,a)||Xrm.WebApi.createRecord(t,r)]}))}))},this.deleteRecord=function(t,r,i,a){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,i&&Xrm.WebApi.deleteRecord(t,r).then(i,a)||Xrm.WebApi.deleteRecord(t,r)]}))}))},this.disassociateRecord=function(t,r,a){return o(e,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.execute(this.initDisassociateRequest(t,i.Utilities.removeBrackets(r),a))];case 1:return[2,e.sent()]}}))}))},this.disassociateRecords=function(t,r,a){return o(e,void 0,void 0,(function(){var e,o,s,c,l;return n(this,(function(n){switch(n.label){case 0:for(e=[],o=0,s=r;o<s.length;o++)c=s[o],e.push(this.initDisassociateRequest(t,i.Utilities.removeBrackets(c),a));return l=[e],[4,this.executeMultiple(l)];case 1:return[2,n.sent()]}}))}))},this.execute=function(t,r,i){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,r&&Xrm.WebApi.online.execute(t).then(r,i)||Xrm.WebApi.online.execute(t)]}))}))},this.executeMultiple=function(t,r,i){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,r&&Xrm.WebApi.online.executeMultiple(t).then(r,i)||Xrm.WebApi.online.executeMultiple(t)]}))}))},this.initDisassociateRequest=function(e,t,r){return{target:e,relatedEntityId:i.Utilities.removeBrackets(t),relationship:r,getMetadata:function(){return{boundParameter:s.Constants.BoundParameter.Global,parameterTypes:{},operationType:s.Constants.OperationType.CRUD,operationName:"Disassociate"}}}},this.retrieveRecord=function(t,r,a,s,c){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,s&&Xrm.WebApi.retrieveRecord(t,i.Utilities.removeBrackets(r),a).then(s,c)||Xrm.WebApi.retrieveRecord(t,r,a)]}))}))},this.retrieveMultipleRecords=function(t,r,i,s,c){return o(e,void 0,void 0,(function(){return n(this,(function(e){return a._Validation.isFetchXml(r)&&(r="?fetchXml="+r),[2,s&&Xrm.WebApi.retrieveMultipleRecords(t,r,i).then(s,c)||Xrm.WebApi.retrieveMultipleRecords(t,r,i)]}))}))},this.retrievePageFetchXml=function(t,r,a,s,c,l,u){return o(e,void 0,void 0,(function(){return n(this,(function(e){return r&&"string"==typeof r?(r="?fetchXml="+i.Utilities.createFetchXml(r,c,a,s),[2,this.retrieveMultipleRecords(t,r,null,l,u)]):[2,console.log("[Error]: Invalid XML")]}))}))},this.retrieveAllRecordsFetchXml=function(t,r,i){return o(e,void 0,void 0,(function(){var e,o,a,s;return n(this,(function(n){switch(n.label){case 0:if(!r||"string"!=typeof r)return[2,console.log("[Error]: Invalid XML")];e=1,o=[],a=null,n.label=1;case 1:return[4,this.retrievePageFetchXml(t,r,e,i,a)];case 2:(s=n.sent())&&(o=o.concat(s.entities)),a=s.fetchXmlPagingCookie,e++,n.label=3;case 3:if(s.fetchXmlPagingCookie)return[3,1];n.label=4;case 4:return[2,o]}}))}))},this.setStateReocord=function(t,r,a,s,c,l){return o(e,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.updateRecord(t,i.Utilities.removeBrackets(r),{statecode:a,statuscode:s},c,l)];case 1:return[2,e.sent()]}}))}))},this.updateRecord=function(t,r,a,s,c){return o(e,void 0,void 0,(function(){return n(this,(function(e){return[2,s&&Xrm.WebApi.updateRecord(t,i.Utilities.removeBrackets(r),a).then(s,c)||Xrm.WebApi.updateRecord(t,r,a)]}))}))},this.doRequest=function(e,t,r){if(!RegExp(e,"g").test("POST PATCH PUT GET DELETE"))throw new Error("Request: action parameter must be one of the following: POST, PATCH, PUT, GET, or DELETE.");if("string"!=typeof t)throw new Error("Request: uri parameter must be a string.");if(RegExp(e,"g").test("PATCH PUT")&&null==r)throw new Error("Request: data parameter must not be null for operations that create or modify data.");return"/"===t.charAt(0)&&(t=Xrm.Utility.getGlobalContext().getClientUrl()+"/api/data/v9.1"+t),new Promise((function(o,n){var i=new XMLHttpRequest;i.open(e,encodeURI(t),!0),i.setRequestHeader("OData-MaxVersion","4.0"),i.setRequestHeader("OData-Version","4.0"),i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.onreadystatechange=function(){if(4===this.readyState)switch(i.onreadystatechange=null,this.status){case 200:case 204:o(this);break;default:var e;try{e=JSON.parse(i.response).error}catch(t){e=new Error(t)}n(e)}},i.send(JSON.stringify(r))}))},this.callAction=function(t,r,a,s){return o(e,void 0,void 0,(function(){var e,o;return n(this,(function(n){switch(n.label){case 0:if(e="/","string"!=typeof a||""===a)throw new Error("actionName parameter is invalid.");return t?[4,i.Utilities.getEntityMetadata(t)]:[3,2];case 1:return null!==(o=n.sent())&&t!==o.EntitySetName&&(t=o.EntitySetName),e+=t,r&&(e+="("+r+")"),e+="/"+(a.startsWith("Microsoft.Dynamics.CRM.")?a:"Microsoft.Dynamics.CRM."+a),[3,3];case 2:e+=a,n.label=3;case 3:return[4,this.doRequest("POST",e,s)];case 4:return[2,n.sent()]}}))}))}}return e.getInstance=function(){return this._instance||(this._instance=new this)},e.prototype.getFileColumn=function(e,t,r){if(!e)throw new Error("entityset parameter must not be null ");if(!t)throw new Error("id parameter must not be null ");if(!r)throw new Error("field parameter must not be null ");var o="/"+e+"("+i.Utilities.removeBrackets(t)+")/"+r+"/$value";return this.doRequest("GET",o)},e}();t._OData=c.getInstance()},262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Process=void 0;var o=r(218),n=function(){function e(){}return e.prototype.getDisplayState=function(){try{return formContext.ui.process.getDisplayState()}catch(e){o.logger.Error(e.message,"Process.getDisplayState")}},e.prototype.getVisible=function(){try{return formContext.ui.process.getVisible()}catch(e){o.logger.Error(e.message,"Process.getVisible")}},e.prototype.reflow=function(e,t,r){try{formContext.ui.process.reflow(e,t,r)}catch(e){o.logger.Error(e.message,"Process.reflow")}},e.prototype.setDisplayState=function(e){try{formContext.ui.process.setDisplayState(e)}catch(e){o.logger.Error(e.message,"Process.setDisplayState")}},e.prototype.addOnPreProcessStatusChange=function(e){try{formContext.data.process.addOnPreProcessStatusChange(e)}catch(e){o.logger.Error(e.message,"Process.addOnPreProcessStatusChange")}},e.prototype.removeOnPreProcessStatusChange=function(e){try{formContext.data.process.removeOnPreProcessStatusChange(e)}catch(e){o.logger.Error(e.message,"Process.removeOnPreProcessStatusChange")}},e.prototype.addOnProcessStatusChange=function(e){try{formContext.data.process.addOnProcessStatusChange(e)}catch(e){o.logger.Error(e.message,"Process.addOnProcessStatusChange")}},e.prototype.removeOnProcessStatusChange=function(e){try{formContext.data.process.removeOnProcessStatusChange(e)}catch(e){o.logger.Error(e.message,"Process.removeOnProcessStatusChange")}},e.prototype.addOnStageChange=function(e){try{formContext.data.process.addOnStageChange(e)}catch(e){o.logger.Error(e.message,"Process.addOnStageChange")}},e.prototype.removeOnStageChange=function(e){try{formContext.data.process.removeOnStageChange(e)}catch(e){o.logger.Error(e.message,"Process.removeOnStageChange")}},e.prototype.addOnStageSelected=function(e){try{formContext.data.process.addOnStageSelected(e)}catch(e){o.logger.Error(e.message,"Process.addOnStageSelected")}},e.prototype.removeOnStageSelected=function(e){try{formContext.data.process.removeOnStageSelected(e)}catch(e){o.logger.Error(e.message,"Process.removeOnStageSelected")}},e.prototype.getActiveProcess=function(){try{formContext.data.process.getActiveProcess()}catch(e){o.logger.Error(e.message,"Process.getActiveProcess")}},e.prototype.setActiveProcess=function(e,t){try{formContext.data.process.setActiveProcess(e,t)}catch(e){o.logger.Error(e.message,"Process.setActiveProcess")}},e.prototype.getProcessInstances=function(e){try{formContext.data.process.getProcessInstances(e)}catch(e){o.logger.Error(e.message,"Process.getProcessInstances")}},e.prototype.setActiveProcessInstance=function(e,t){try{formContext.data.process.setActiveProcessInstance(e,t)}catch(e){o.logger.Error(e.message,"Process.setActiveProcessInstance")}},e.prototype.getInstanceId=function(){try{return formContext.data.process.getInstanceId()}catch(e){o.logger.Error(e.message,"Process.getInstanceId")}},e.prototype.getInstanceName=function(){try{return formContext.data.process.getInstanceName()}catch(e){o.logger.Error(e.message,"Process.getInstanceName")}},e.prototype.getStatus=function(){try{return formContext.data.process.getStatus()}catch(e){o.logger.Error(e.message,"Process.getStatus")}},e.prototype.setStatus=function(e,t){try{formContext.data.process.setStatus(e,t)}catch(e){o.logger.Error(e.message,"Process.setStatus")}},e.prototype.getActiveStage=function(){try{formContext.data.process.getActiveStage()}catch(e){o.logger.Error(e.message,"Process.getActiveStage")}},e.prototype.setActiveStage=function(e,t){try{formContext.data.process.setActiveStage(e,t)}catch(e){o.logger.Error(e.message,"Process.setActiveStage")}},e.prototype.moveNext=function(e){try{formContext.data.process.moveNext(e)}catch(e){o.logger.Error(e.message,"Process.moveNext")}},e.prototype.movePrevious=function(e){try{formContext.data.process.movePrevious(e)}catch(e){o.logger.Error(e.message,"Process.movePrevious")}},e.prototype.getActivePath=function(){try{formContext.data.process.getActivePath()}catch(e){o.logger.Error(e.message,"Process.getActivePath")}},e.prototype.getEnabledProcesses=function(e){try{formContext.data.process.getEnabledProcesses(e)}catch(e){o.logger.Error(e.message,"Process.getEnabledProcesses")}},e.prototype.getSelectedStage=function(){try{formContext.data.process.getSelectedStage()}catch(e){o.logger.Error(e.message,"Process.getSelectedStage")}},e}();t._Process=new n},362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crmXmlDecode=t.selectSingleNodeText=t.crmXmlEncode=t.encodeValue=t.getNodeText=t.stringToDate=t.isArray=t.getError=t.setSelectionNamespaces=t.selectSingleNode=t.executeRequest=t.injectPagingDetails=t.getFetchResult=t.xmlEncode=t.getValue=t.getNodeTextValue=t.getNodeTextValueNotNull=t.getChildNode=t.getChildNodes=t.getXmlValue=t.$=void 0;var o=r(431),n=r(662);window.$||(window.$=window.parent.$);var i=window.$;t.$=i,t.getXmlValue=function(e,t,r){var n="",i="",a="";switch(t){case o.SOAP_TYPE.String:i=c(r)||"";break;case o.SOAP_TYPE.DateTime:i=r.toISOString()||"";break;case o.SOAP_TYPE.EntityReference:i="<a:Id>"+(r.id||"")+"</a:Id><a:LogicalName>"+(r.entityType||"")+"</a:LogicalName><a:Name i:nil='true' />";break;case o.SOAP_TYPE.OptionSet:case o.SOAP_TYPE.Money:i="<a:Value>"+(r||0)+"</a:Value>";break;case o.SOAP_TYPE.Entity:i=s(r);break;case o.SOAP_TYPE.EntityCollection:if(null!=r&&r.length>0){for(var l="",u=0;u<r.length;u++){var g=s(r[u]);null!==g&&(l+="<a:Entity>"+g+"</a:Entity>")}null!==l&&""!==l&&(i="<a:Entities>"+l+"</a:Entities><a:EntityName i:nil='true' /><a:MinActiveRowVersion i:nil='true' /><a:MoreRecords>false</a:MoreRecords><a:PagingCookie i:nil='true' /><a:TotalRecordCount>0</a:TotalRecordCount><a:TotalRecordCountLimitExceeded>false</a:TotalRecordCountLimitExceeded>")}break;case o.SOAP_TYPE.Guid:i=r||o.Constants.EmptyGuid,a=" xmlns:c='http://schemas.microsoft.com/2003/10/Serialization/'";break;default:i=null!=r?r:null}return n="<a:KeyValuePairOfstringanyType><b:key>"+e+"</b:key><b:value i:type='"+t+"'"+a,(n+=null===i||""===i?" i:nil='true' />":">"+i+"</b:value>")+"</a:KeyValuePairOfstringanyType>"},t.getChildNodes=function(e,r){for(var o=[],n=0;n<e.childNodes.length;n++)e.childNodes[n].tagName==r&&o.push(e.childNodes[n]);return 0==o.length&&-1!==r.indexOf(":")&&(o=(0,t.getChildNodes)(e,r.substring(r.indexOf(":")+1))),o},t.getChildNode=function(e,r){var o=(0,t.getChildNodes)(e,r);return null!=o&&o.length>0?o[0]:null},t.getNodeTextValueNotNull=function(e){for(var r="",o=0;o<e.length;o++)""===r&&(r=(0,t.getNodeTextValue)(e[o]));return r},t.getNodeTextValue=function(e){if(null!=e){var t=e.firstChild;if(null!=t)return t.textContent||t.nodeValue||t.data||t.text}return""},t.getValue=function(e){var r=null,o=null;if(null!=e&&null!=(o=e.getAttribute("i:type")||e.getAttribute("type"))){var i=o.substring(o.indexOf(":")+1).toLowerCase();if("entityreference"==i){var s=(0,t.getChildNode)(e,"a:Id"),c=(0,t.getChildNode)(e,"a:LogicalName"),l=(0,t.getChildNode)(e,"a:Name"),u=(0,t.getNodeTextValue)(s),g=(0,t.getNodeTextValue)(l),p=(0,t.getNodeTextValue)(c);r=new n.EntityReference(p,u,g)}else if("entity"==i)r=a(e);else if("entitycollection"==i){var d=(0,t.getChildNode)(e,"a:Entities"),h=(0,t.getChildNodes)(d,"a:Entity");if(r=[],null!=h&&h.length>0)for(var f=0;f<h.length;f++)r.push(a(h[f]))}else if("aliasedvalue"==i){var y=(0,t.getValue)((0,t.getChildNode)(e,"a:Value"));null!=y&&(r=y.value,o=y.type)}else{var v=(0,t.getNodeTextValue)(e);if(null!=v)switch(i){case"datetime":r=new Date(v);break;case"int":case"money":case"optionsetvalue":case"double":case"decimal":r=Number(v);break;case"boolean":r="true"===v.toLowerCase();break;default:r=v}}}return new n.Attribute(r,o)},t.xmlEncode=function(e){var t,r="";if(null===e)return null;if(""===e)return"";for(var o=0,n=e.length;o<n;o++)(t=e.charCodeAt(o))>96&&t<123||t>64&&t<91||32===t||t>47&&t<58||46===t||44===t||45===t||95===t?r+=String.fromCharCode(t):r=r+"&#"+t+";";return r},t.getFetchResult=function(e){var r=e.firstChild.firstChild.firstChild.firstChild,o=(0,t.getChildNode)(r,"a:Results"),n=(0,t.getChildNode)(o.firstChild,"b:value"),i=(0,t.getChildNode)(n,"a:Entities").childNodes;return{entityName:p(n,"a:EntityName"),moreRecords:"true"===p(n,"a:MoreRecords"),pagingCookie:p(n,"a:PagingCookie"),totalRecordCount:parseInt(p(n,"a:TotalRecordCount"),10),entities:t.$.map(i,u)}},t.injectPagingDetails=function(e,r,o){var n=t.$.parseXML(e),i=(0,t.$)(n).find("fetch");return i.attr("page",r),i.attr("paging-cookie",o),g(n)},t.executeRequest=function(e,r,n){var i={};return i[o.SOAP_CONSTS.SOAP_ACTION.text]=o.SOAP_CONSTS.SOAP_ACTION.value,i[o.SOAP_CONSTS.ACCEPT_TYPE.text]=o.SOAP_CONSTS.ACCEPT_TYPE.value.JSON,i[o.SOAP_CONSTS.CONTENT_TYPE.text]=o.SOAP_CONSTS.CONTENT_TYPE.value.XML,t.$.ajax({type:o.SOAP_CONSTS.HTTP_METHOD.POST,async:0!=n,data:r,url:e+o.SOAP_CONSTS.SOAP_ENDPOINT,headers:i})},t.selectSingleNode=function(e,t){return void 0!==e.selectSingleNode?e.selectSingleNode(t):(new XPathEvaluator).evaluate(t,e,v,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},t.setSelectionNamespaces=function(e){e.setProperty("SelectionNamespaces",["xmlns:s='http://schemas.xmlsoap.org/soap/envelope/'","xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'","xmlns:i='http://www.w3.org/2001/XMLSchema-instance'","xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'","xmlns:c='http://schemas.microsoft.com/xrm/2011/Metadata'","xmlns:ser='http://schemas.microsoft.com/xrm/2011/Contracts/Services'"].join(" "))},t.getError=function(e,r){if(12029===r.status)throw new Error("The attempt to connect to the server failed.");if(12007===r.status)throw new Error("The server name could not be resolved.");var o=r.responseXML,n="Unknown (unable to parse the fault)";if(null!==o&&"object"==typeof o)for(var i=null,a=null,s=o.firstChild.firstChild,c=0;c<s.childNodes.length;c++){var l=s.childNodes[c];if("s:Fault"===l.nodeName){for(var u=0;u<l.childNodes.length;u++){var g=l.childNodes[u];if("faultstring"===g.nodeName&&(i=(0,t.getNodeText)(g)),"detail"===g.nodeName)for(var p=0;p<g.childNodes.length;p++){var d=g.childNodes[p];if("OrganizationServiceFault"===d.nodeName)for(var h=0;h<d.childNodes.length;h++){var f=d.childNodes[h];if("ErrorCode"===f.nodeName){a=(0,t.getNodeText)(f);break}}}}break}}if(null!=a&&null!=i?n="Error Code:"+a+" Message: "+i:null!=i&&(n=i),e)return new Error(n);throw new Error(n)},t.isArray=function(e){return-1!==e.constructor.toString().indexOf("Array")},t.stringToDate=function(e){var t=e.split(/\D/);return new Date(Date.UTC(t[0],--t[1],t[2],t[3],t[4],t[5]))},t.getNodeText=function(e){return void 0!==e.text?e.text:e.textContent},t.encodeValue=function(e){return"string"==typeof e&&(e=e.replace(/[{}]/g,"")),"object"==typeof e&&e.getTime?h(e):(0,t.crmXmlEncode)(e)},t.crmXmlEncode=function(e){return null==e?e:("string"!=typeof e&&(e=e.toString()),y(e))},t.selectSingleNodeText=function(e,r){var o=(0,t.selectSingleNode)(e,r);return m(o)?null:void 0!==o.text?o.text:o.textContent},t.crmXmlDecode=function(e){return"string"!=typeof e&&(e=e.toString()),e};var a=function(e){var r=null,o=(0,t.getChildNode)(e,"a:Attributes"),i=(0,t.getChildNode)(e,"a:Id"),a=(0,t.getChildNode)(e,"a:LogicalName"),s=(0,t.getChildNode)(e,"a:FormattedValues"),c=(0,t.getNodeTextValue)(a),l=(0,t.getNodeTextValue)(i),u=(0,t.getChildNodes)(o,"a:KeyValuePairOfstringanyType");if(r=new n.Entity(c,l,null),null!=u&&u.length>0)for(var g=0;g<u.length;g++){var p=(0,t.getChildNode)(u[g],"b:key"),d=(0,t.getChildNode)(u[g],"b:value"),h=(0,t.getNodeTextValue)(p),f=(0,t.getValue)(d);r.attributes[h]=f}for(var y=0;y<s.childNodes.length;y++){var v=s.childNodes[y],m=(0,t.getChildNode)(v,"b:key"),_=(0,t.getChildNode)(v,"b:value"),b=(0,t.getNodeTextValue)(m),C=(0,t.getNodeTextValue)(_);r.formattedValues[b]=C}return r},s=function(e){var r="";if(null!=e){var o="";for(var n in e.attributes){var i=e.attributes[n];o+=(0,t.getXmlValue)(n,i.type,i.value)}r=""!==o?"<a:Attributes>"+o+"</a:Attributes>":"<a:Attributes />",r+="<a:EntityState i:nil='true' /><a:FormattedValues /><a:Id>"+e.id+"</a:Id><a:KeyAttributes /><a:LogicalName>"+e.logicalName+"</a:LogicalName><a:RelatedEntities /><a:RowVersion i:nil='true' />"}return r},c=function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},l=function(e,r){var o={type:e};switch(e){case"a:OptionSetValue":default:o.value=(0,t.getNodeText)(r);break;case"a:EntityReference":o.guid=p(r,"a:Id"),o.name=p(r,"a:Name"),o.logicalName=p(r,"a:LogicalName");break;case"a:Money":case"c:decimal":o.value=parseFloat((0,t.getNodeText)(r));break;case"a:AliasedValue":var n=(0,t.getChildNode)(r,"a:Value"),i=d(n,"i:type");o=l(i,n);break;case"c:int":o.value=parseInt((0,t.getNodeText)(r),10);break;case"c:dateTime":o.value=function(e){var t=[];if(!(t=e.match(/(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(\.\d+)?(Z|([+-])(\d\d):(\d\d))/)))throw"Couldn't parse ISO 8601 date string '"+e+"'";for(var r=[1,2,3,4,5,6,10,11],o=0,n=r.length;o<n;o++)t[r[o]]=parseInt(t[r[o]],10);t[7]=parseFloat(t[7]);var i=Date.UTC(t[1],t[2]-1,t[3],t[4],t[5],t[6]);if(t[7]>0&&(i+=Math.round(1e3*t[7])),"Z"!==t[8]&&t[10]){var a=60*t[10]*60*1e3;t[11]&&(a+=60*t[11]*1e3),"-"===t[9]?i-=a:i+=a}return new Date(i)}((0,t.getNodeText)(r));break;case"c:boolean":o.value="true"===(0,t.getNodeText)(r)}return o},u=function(e){var r=new n.BusinessEntity;r.id=p(e,"a:Id"),r.attributes=function(e){for(var r={},o=null,n=null,i=null,a=null,s=0,c=e.childNodes.length;s<c;s++)o=e.childNodes[s],n=p(o,"b:key"),a=(0,t.getChildNode)(o,"b:value"),i=d(a,"i:type"),r[n]=l(i,a);return r}((0,t.getChildNode)(e,"a:Attributes")),r.logicalName=p(e,"a:LogicalName");for(var o=(0,t.getChildNode)(e,"a:FormattedValues").childNodes,i=0,a=o.length;i<a;i++){var s=o[i],c=p(s,"b:key"),u=p(s,"b:value");r.attributes[c].formattedValue=u}return r},g=function(e){return window.XMLSerializer?(new XMLSerializer).serializeToString(e):e.xml},p=function(e,r){return(0,t.getNodeText)((0,t.getChildNode)(e,r))},d=function(e,t){for(var r=0;r<e.attributes.length;r++){var o=e.attributes[r];if(o.name==t)return o.value}},h=function(e){return e.getFullYear()+"-"+f(e.getMonth()+1)+"-"+f(e.getDate())+"T"+f(e.getHours())+":"+f(e.getMinutes())+":"+f(e.getSeconds())},f=function(e){for(e=""+e;e.length<2;)e="0"+e;return e},y=function(e){var t,r,o,n="";for(r=0,o=e.length;r<o;r++)if((t=e.charCodeAt(r))>=55296&&t<=57343)if(r+1<e.length){var i=e.charCodeAt(r+1);i>=56320&&i<=57343?(n+="CRMEntityReferenceOpen"+(1024*(t-55296)+(1023&i)+65536).toString(16)+"CRMEntityReferenceClose",r++):n+=String.fromCharCode(t)}else n+=String.fromCharCode(t);else n+=String.fromCharCode(t);for(e=n,n="",r=0,o=e.length;r<o;r++)n+=(t=e.charCodeAt(r))>=55296&&t<=57343?String.fromCharCode(65533):String.fromCharCode(t);return(e=(e=c(e=n)).replace(/CRMEntityReferenceOpen/g,"&#x")).replace(/CRMEntityReferenceClose/g,";")},v=function(e){return{s:"http://schemas.xmlsoap.org/soap/envelope/",a:"http://schemas.microsoft.com/xrm/2011/Contracts",i:"http://www.w3.org/2001/XMLSchema-instance",b:"http://schemas.datacontract.org/2004/07/System.Collections.Generic",c:"http://schemas.microsoft.com/xrm/2011/Metadata",ser:"http://schemas.microsoft.com/xrm/2011/Contracts/Services"}[e]||null},m=function(e){return null==e||null!=e.attributes.getNamedItem("i:nil")&&"true"===e.attributes.getNamedItem("i:nil").value}},479:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EntityBase=void 0;var i=r(431),a=r(713),s=r(218),c=r(362),l=r(662),u=function(e){function t(){var t=e.call(this)||this;return t.doSoapRequest=function(e,r,o,n){o=o||!1;var a=["<soap:Envelope xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'>","<soap:Body>","<",r," xmlns='http://schemas.microsoft.com/xrm/2011/Contracts/Services' xmlns:i='http://www.w3.org/2001/XMLSchema-instance'>",e,"</",r,">","</soap:Body>","</soap:Envelope>"].join(""),s=new XMLHttpRequest;s.open(i.SOAP_CONSTS.HTTP_METHOD.POST,t.getClientUrl()+i.SOAP_CONSTS.SOAP_ENDPOINT,0!=o),s.setRequestHeader(i.SOAP_CONSTS.ACCEPT_TYPE.text,i.SOAP_CONSTS.ACCEPT_TYPE.value.XML),s.setRequestHeader(i.SOAP_CONSTS.CONTENT_TYPE.text,i.SOAP_CONSTS.CONTENT_TYPE.value.XML),s.setRequestHeader(i.SOAP_CONSTS.SOAP_ACTION.text,i.SOAP_CONSTS.SOAP_ACTION.value);try{s.responseType="msxml-document"}catch(e){}if(o)s.onreadystatechange=function(){if(4===s.readyState)if(s.onreadystatechange=null,200===s.status){var e=s.responseXML;try{(0,c.setSelectionNamespaces)(e)}catch(e){}n(e)}else(0,c.getError)(!0,s)},s.send(a);else{if(s.send(a),200===s.status){var l=s.responseXML;try{(0,c.setSelectionNamespaces)(l)}catch(e){}var u=l;return n?n(u):u}(0,c.getError)(!1,s)}},t.retrieve=function(e,r,o,n,i){try{var a="",u="";if(null!=o){for(var g=0,p=o.length;g<p;g++)a+="<c:string>"+o[g]+"</c:string>";u="<a:AllColumns>false</a:AllColumns><a:Columns xmlns:c='http://schemas.microsoft.com/2003/10/Serialization/Arrays'>"+a+"</a:Columns>"}else u="<a:AllColumns>true</a:AllColumns><a:Columns xmlns:b='http://schemas.microsoft.com/2003/10/Serialization/Arrays' />";var d=["<request i:type='a:RetrieveRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'>","<a:Parameters xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'>","<a:KeyValuePairOfstringanyType>","<b:key>Target</b:key>","<b:value i:type='a:EntityReference'>","<a:Id>",(0,c.encodeValue)(r),"</a:Id>","<a:LogicalName>",e,"</a:LogicalName>","<a:Name i:nil='true' />","</b:value>","</a:KeyValuePairOfstringanyType>","<a:KeyValuePairOfstringanyType>","<b:key>ColumnSet</b:key>","<b:value i:type='a:ColumnSet'>",u,"</b:value>","</a:KeyValuePairOfstringanyType>","</a:Parameters>","<a:RequestId i:nil='true' />","<a:RequestName>Retrieve</a:RequestName>","</request>"].join("");return t.doSoapRequest(d,"Execute",!!i,(function(e){var t=(0,c.selectSingleNode)(e,"//b:value"),r=new l.BusinessEntity;return r.deserialize(t),n?i(r):r}))}catch(e){s.logger.Critical(e.message,"SOAP.retrieve")}},t.create=function(e,r){try{var o=e.serialize(),n=!!r,i=["<request i:type='a:CreateRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'>","<a:Parameters xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'>","<a:KeyValuePairOfstringanyType>","<b:key>Target</b:key>",o,"</a:KeyValuePairOfstringanyType>","</a:Parameters>","<a:RequestId i:nil='true' />","<a:RequestName>Create</a:RequestName>","</request>"].join("");return t.doSoapRequest(i,"Execute",n,(function(e){var t=(0,c.selectSingleNodeText)(e,"//b:value"),o=(0,c.crmXmlDecode)(t);if(!n)return o;r(o)}))}catch(e){s.logger.Critical(e.message,"SOAP.create")}},t.update=function(e,r){try{var o=e.serialize(),n=!!r,i=["<request i:type='a:UpdateRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'>","<a:Parameters xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'>","<a:KeyValuePairOfstringanyType>","<b:key>Target</b:key>",o,"</a:KeyValuePairOfstringanyType>","</a:Parameters>","<a:RequestId i:nil='true' />","<a:RequestName>Update</a:RequestName>","</request>"].join("");return t.doSoapRequest(i,"Execute",n,(function(e){var t=(0,c.selectSingleNodeText)(e,"//a:Results"),o=(0,c.crmXmlDecode)(t);if(!n)return o;r(o)}))}catch(e){s.logger.Critical(e.message,"SOAP.update")}},t.delete=function(e,r,o){try{var n=["<request i:type='a:DeleteRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'><a:Parameters xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'><a:KeyValuePairOfstringanyType><b:key>Target</b:key><b:value i:type='a:EntityReference'><a:Id>",r,"</a:Id><a:LogicalName>",e,"</a:LogicalName><a:Name i:nil='true' /></b:value></a:KeyValuePairOfstringanyType></a:Parameters><a:RequestId i:nil='true' /><a:RequestName>Delete</a:RequestName></request>"].join(""),i=!!o;return t.doSoapRequest(n,"Execute",i,(function(e){var t=(0,c.selectSingleNodeText)(e,"//a:Results"),r=(0,c.crmXmlDecode)(t);if(!i)return r;o(r)}))}catch(e){s.logger.Critical(e.message,"SOAP.delete")}},t.retrieveMultiple=function(e,r){try{var o=["<request i:type='a:RetrieveMultipleRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'>","<a:Parameters xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'>","<a:KeyValuePairOfstringanyType>","<b:key>Query</b:key>","<b:value i:type='a:QueryExpression'>",e,"</b:value>","</a:KeyValuePairOfstringanyType>","</a:Parameters>","<a:RequestId i:nil='true'/>","<a:RequestName>RetrieveMultiple</a:RequestName>","</request>"].join(""),n=!!r;return t.doSoapRequest(o,"Execute",n,(function(e){for(var t=(0,c.selectSingleNode)(e,"//a:Entities"),o=[],i=0,a=t.childNodes.length;i<a;i++){var s=new l.BusinessEntity;s.deserialize(t.childNodes[i]),o[i]=s}return n?r(o):o}))}catch(e){s.logger.Critical(e.message,"SOAP.retrieveMultiple")}},t.associate=function(e,r,o,n,i,a){try{var l=i;l=(0,c.isArray)(l)?l:[l];for(var u=[],g=0,p=l.length;g<p;g++)""!==l[g].id&&u.push("<a:EntityReference>","<a:Id>",l[g].id,"</a:Id>","<a:LogicalName>",n,"</a:LogicalName>","<a:Name i:nil='true' />","</a:EntityReference>");var d=u.join(""),h=["<request i:type='a:AssociateRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'>","<a:Parameters xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'>","<a:KeyValuePairOfstringanyType>","<b:key>Target</b:key>","<b:value i:type='a:EntityReference'>","<a:Id>",(0,c.encodeValue)(o),"</a:Id>","<a:LogicalName>",r,"</a:LogicalName>","<a:Name i:nil='true' />","</b:value>","</a:KeyValuePairOfstringanyType>","<a:KeyValuePairOfstringanyType>","<b:key>Relationship</b:key>","<b:value i:type='a:Relationship'>","<a:PrimaryEntityRole>Referenced</a:PrimaryEntityRole>","<a:SchemaName>",e,"</a:SchemaName>","</b:value>","</a:KeyValuePairOfstringanyType>","<a:KeyValuePairOfstringanyType>","<b:key>RelatedEntities</b:key>","<b:value i:type='a:EntityReferenceCollection'>",d,"</b:value>","</a:KeyValuePairOfstringanyType>","</a:Parameters>","<a:RequestId i:nil='true' />","<a:RequestName>Associate</a:RequestName>","</request>"].join(""),f=!!a;return t.doSoapRequest(h,"Execute",f,(function(e){var t=(0,c.selectSingleNodeText)(e,"//ser:ExecuteResult"),r=(0,c.crmXmlDecode)(t);if(!f)return r;a(r)}))}catch(e){s.logger.Critical(e.message,"SOAP.associate")}},t.disassociate=function(e,r,o,n,i,a){try{var l=i;l=(0,c.isArray)(l)?l:[l];for(var u=[],g=0,p=l.length;g<p;g++)""!==l[g].id&&u.push("<a:EntityReference>","<a:Id>",l[g].id,"</a:Id>","<a:LogicalName>",n,"</a:LogicalName>","<a:Name i:nil='true' />","</a:EntityReference>");var d=u.join(""),h=["<request i:type='a:DisassociateRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'>","<a:Parameters xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'>","<a:KeyValuePairOfstringanyType>","<b:key>Target</b:key>","<b:value i:type='a:EntityReference'>","<a:Id>",(0,c.encodeValue)(o),"</a:Id>","<a:LogicalName>",r,"</a:LogicalName>","<a:Name i:nil='true' />","</b:value>","</a:KeyValuePairOfstringanyType>","<a:KeyValuePairOfstringanyType>","<b:key>Relationship</b:key>","<b:value i:type='a:Relationship'>","<a:PrimaryEntityRole i:nil='true' />","<a:SchemaName>",e,"</a:SchemaName>","</b:value>","</a:KeyValuePairOfstringanyType>","<a:KeyValuePairOfstringanyType>","<b:key>RelatedEntities</b:key>","<b:value i:type='a:EntityReferenceCollection'>",d,"</b:value>","</a:KeyValuePairOfstringanyType>","</a:Parameters>","<a:RequestId i:nil='true' />","<a:RequestName>Disassociate</a:RequestName>","</request>"].join(""),f=!!a;return t.doSoapRequest(h,"Execute",f,(function(e){var t=(0,c.selectSingleNodeText)(e,"//ser:ExecuteResult"),r=(0,c.crmXmlDecode)(t);if(!f)return r;a(r)}))}catch(e){s.logger.Critical(e.message,"SOAP.disassociate")}},t}return n(t,e),t.prototype.setState=function(e,t,r,o,n,i){try{var a=['<Execute xmlns="http://schemas.microsoft.com/xrm/2011/Contracts/Services">','<request i:type="b:SetStateRequest"',' xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" ',' xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts" ',' xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic" ',' xmlns:i="http://www.w3.org/2001/XMLSchema-instance">',"<a:Parameters>","<a:KeyValuePairOfstringanyType>","<c:key>EntityMoniker</c:key>",'<c:value i:type="a:EntityReference">',"<a:Id>",t,"</a:Id>","<a:LogicalName>",e,"</a:LogicalName>",'<a:Name i:nil="true" />',"</c:value>","</a:KeyValuePairOfstringanyType>","<a:KeyValuePairOfstringanyType>","<c:key>State</c:key>",'<c:value i:type="a:OptionSetValue">',"<a:Value>",r,"</a:Value>","</c:value>","</a:KeyValuePairOfstringanyType>","<a:KeyValuePairOfstringanyType>","<c:key>Status</c:key>",'<c:value i:type="a:OptionSetValue">',"<a:Value>",o,"</a:Value>","</c:value>","</a:KeyValuePairOfstringanyType>","</a:Parameters>",'<a:RequestId i:nil="true"/>',"<a:RequestName>SetState</a:RequestName>","</request>","</Execute>"].join("");return this.doSoapRequest(a,"Execute",n,(function(e){var t=(0,c.selectSingleNodeText)(e,"//ser:ExecuteResult"),r=(0,c.crmXmlDecode)(t);if(!n)return r;i(r)}))}catch(e){s.logger.Critical(e.message,"SOAP.setState")}},t.prototype.assign=function(e,t,r,o){try{var n=['<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">',"  <s:Body>",'    <Execute xmlns="http://schemas.microsoft.com/xrm/2011/Contracts/Services" ','           xmlns:i="http://www.w3.org/2001/XMLSchema-instance">','      <request i:type="b:AssignRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" ','           xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts">','        <a:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic">',"          <a:KeyValuePairOfstringanyType>","            <c:key>Target</c:key>",'            <c:value i:type="a:EntityReference">',"              <a:Id>"+e+"</a:Id>","              <a:LogicalName>"+t+"</a:LogicalName>",'              <a:Name i:nil="true" />',"            </c:value>","          </a:KeyValuePairOfstringanyType>","          <a:KeyValuePairOfstringanyType>","            <c:key>Assignee</c:key>",'            <c:value i:type="a:EntityReference">',"              <a:Id>"+r+"</a:Id>","              <a:LogicalName>systemuser</a:LogicalName>",'              <a:Name i:nil="true" />',"            </c:value>","          </a:KeyValuePairOfstringanyType>","        </a:Parameters>",'        <a:RequestId i:nil="true" />',"        <a:RequestName>Assign</a:RequestName>","      </request>","    </Execute>","  </s:Body>","</s:Envelope>"].join("");return(0,c.executeRequest)(this.getClientUrl(),n,0!=o)}catch(e){s.logger.Critical(e.message,"SOAP.assign")}},t}(a.GlobalContext);t.EntityBase=u},182:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FetchKit=void 0;var i=r(713),a=r(218),s=r(362),c=function(e){function t(){var t=e.call(this)||this;return t.fetchMore=function(e,r){try{return u(t.getClientUrl(),e,r)}catch(e){a.logger.Critical(e.message,"SOAP.fetchMore")}},t.fetchAll=function(e,r){try{return l(t.getClientUrl(),e,r)}catch(e){a.logger.Critical(e.message,"SOAP.fetchAll")}},t.fetch=function(e,r){try{return g(t.getClientUrl(),e,r)}catch(e){a.logger.Critical(e.message,"SOAP.fetch")}},t}return n(t,e),t}(i.GlobalContext);t.FetchKit=c;var l=function(e,t,r){var o=s.$.Deferred(),n=[],i=r||1;return u(e,t,!0).then((function(r){if(n=n.concat(r.entities),r.moreRecords){i++;var a=(0,s.injectPagingDetails)(t,i,r.pagingCookie);l(e,a,i).then((function(e){n=n.concat(e),o.resolve(n)}),o.reject)}else o.resolve(n)}),o.reject),o.promise()},u=function(e,t,r){r=!1!==r;var o=s.$.Deferred(),n=['<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">'," <s:Body>",'  <Execute xmlns="http://schemas.microsoft.com/xrm/2011/Contracts/Services">','     <request i:type="b:RetrieveMultipleRequest" xmlns:b="http://schemas.microsoft.com/xrm/2011/Contracts" ','         xmlns:i="http://www.w3.org/2001/XMLSchema-instance">','             <b:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic">',"             <b:KeyValuePairOfstringanyType>","                 <c:key>Query</c:key>",'                 <c:value i:type="b:FetchExpression">',"                     <b:Query>",(0,s.xmlEncode)(t),"                     </b:Query>","                 </c:value>","             </b:KeyValuePairOfstringanyType>","         </b:Parameters>",'         <b:RequestId i:nil="true"/>',"         <b:RequestName>RetrieveMultiple</b:RequestName>","     </request>"," </Execute>","</s:Body></s:Envelope>"].join("");return(0,s.executeRequest)(e,n,r).then((function(e){o.resolve((0,s.getFetchResult)(e))}),o.reject),o.promise()},g=function(e,t,r){r=!1!==r;var o=s.$.Deferred();return u(e,t,r).then((function(e){o.resolve(e.entities)})).fail(o.reject),o.promise()}},662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessEntity=t.Attribute=t.XrmValue=t.XrmEntityCollection=t.XrmEntityReference=t.XrmOptionSetValue=t.Entity=t.EntityReference=void 0;var o=r(431),n=r(362);t.EntityReference=function(e,t,r){this.id=t||o.Constants.EmptyGuid,this.name=r||"",this.entityType=e||""};t.Entity=function(e,t,r){this.logicalName=e||"",this.attributes=r||{},this.formattedValues={},this.id=t||o.Constants.EmptyGuid};var i=function(){this.type="OptionSetValue"};t.XrmOptionSetValue=i;var a=function(){this.type="EntityReference"};t.XrmEntityReference=a;var s=function(){this.type="EntityCollection"};t.XrmEntityCollection=s;var c=function(){};t.XrmValue=c;t.Attribute=function(e,t){this.value=null!=e?e:null,this.type=t||""};t.BusinessEntity=function(e,t){var r=this;this.id=null,this.logicalName=null,this.attributes={},this.getValue=function(e,t){var n=r.attributes[e];if(n)switch(n.type){case o.SOAP_TYPE.EntityReference:return void 0!==t?n[t]:n.guid;case o.SOAP_TYPE.OptionSet:return void 0!==t?n[t]:n.value;default:return n.value}return null},this.serialize=function(){var e=["<b:value i:type='a:Entity'>"];e.push('<a:Attributes xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">');var t=r.attributes;for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];if(e.push("<a:KeyValuePairOfstringanyType>"),e.push("<b:key>",o,"</b:key>"),null===i||null===i.value)e.push("<b:value i:nil='true' />");else{var a,s,c,l,u,g,p=i.type?(0,n.crmXmlEncode)(i.type):typeof i;switch(p){case"OptionSetValue":a=i.hasOwnProperty("value")?i.value:i,s=(0,n.encodeValue)(a),e.push("<b:value i:type='a:OptionSetValue'>"),e.push("<a:Value>",s,"</a:Value>","</b:value>");break;case"EntityCollection":e.push("<b:value i:type='a:EntityCollection'>"),e.push("<a:Entities>"),a=i.hasOwnProperty("value")?i.value:i;for(var d=(0,n.isArray)(a)?a:[a],h=0,f=d.length;h<f;h++){var y=d[h];c=y.hasOwnProperty("id")?y.id:y,l=(0,n.encodeValue)(c),u=y.hasOwnProperty("logicalName")?y.logicalName:y,g=(0,n.encodeValue)(u),e.push("<a:Entity>"),e.push("<a:Attributes>"),e.push("<a:KeyValuePairOfstringanyType>"),e.push("<b:key>partyid</b:key>"),e.push("<b:value i:type='a:EntityReference'>"),e.push("<a:Id>",l,"</a:Id>"),void 0!==Xrm.Utility.openQuickCreate&&e.push("<a:KeyAttributes xmlns:c='http://schemas.microsoft.com/xrm/7.1/Contracts' />"),e.push("<a:LogicalName>",g,"</a:LogicalName>"),e.push("<a:Name i:nil='true' />"),void 0!==Xrm.Utility.openQuickCreate&&e.push("<a:RowVersion i:nil='true' />"),e.push("</b:value>"),e.push("</a:KeyValuePairOfstringanyType>"),e.push("</a:Attributes>"),e.push("<a:EntityState i:nil='true' />"),e.push("<a:FormattedValues />"),e.push("<a:Id>00000000-0000-0000-0000-000000000000</a:Id>"),e.push("<a:LogicalName>activityparty</a:LogicalName>"),e.push("<a:RelatedEntities />"),e.push("</a:Entity>")}e.push("</a:Entities>"),e.push("<a:EntityName i:nil='true' />"),e.push("<a:MinActiveRowVersion i:nil='true' />"),e.push("<a:MoreRecords>false</a:MoreRecords>"),e.push("<a:PagingCookie i:nil='true' />"),e.push("<a:TotalRecordCount>0</a:TotalRecordCount>"),e.push("<a:TotalRecordCountLimitExceeded>false</a:TotalRecordCountLimitExceeded>"),e.push("</b:value>");break;case"EntityReference":c=i.hasOwnProperty("id")?i.id:i,l=(0,n.encodeValue)(c),u=i.hasOwnProperty("logicalName")?i.logicalName:i,g=(0,n.encodeValue)(u),e.push("<b:value i:type='a:EntityReference'>"),e.push("<a:Id>",l,"</a:Id>"),void 0!==Xrm.Utility.openQuickCreate&&e.push("<a:KeyAttributes xmlns:c='http://schemas.microsoft.com/xrm/7.1/Contracts' />"),e.push("<a:LogicalName>",g,"</a:LogicalName>"),e.push("<a:Name i:nil='true' />"),void 0!==Xrm.Utility.openQuickCreate&&e.push("<a:RowVersion i:nil='true' />"),e.push("</b:value>");break;case"Money":a=i.hasOwnProperty("value")?i.value:i,s=(0,n.encodeValue)(a),e.push("<b:value i:type='a:Money'>"),e.push("<a:Value>",s,"</a:Value>","</b:value>");break;case"guid":a=i.hasOwnProperty("value")?i.value:i,s=(0,n.encodeValue)(a),e.push("<b:value i:type='c:guid' xmlns:c='http://schemas.microsoft.com/2003/10/Serialization/'>"),e.push(s,"</b:value>");break;case"number":a=i.hasOwnProperty("value")?i.value:i,s=(0,n.encodeValue)(a);var v=String(parseInt(a,10))===s?"c:int":"c:decimal";e.push("<b:value i:type='",v,"' xmlns:c='http://www.w3.org/2001/XMLSchema'>"),e.push(s,"</b:value>");break;default:a=i.hasOwnProperty("value")?i.value:i,s=(0,n.encodeValue)(a),p="object"==typeof a&&a.getTime?"dateTime":p,e.push("<b:value i:type='c:",p,"' xmlns:c='http://www.w3.org/2001/XMLSchema'>",s,"</b:value>")}}e.push("</a:KeyValuePairOfstringanyType>")}return e.push("</a:Attributes><a:EntityState i:nil='true' />"),e.push("<a:FormattedValues xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic' />"),e.push("<a:Id>",(0,n.encodeValue)(r.id),"</a:Id>"),e.push("<a:LogicalName>",r.logicalName,"</a:LogicalName>"),e.push("<a:RelatedEntities xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic' />"),e.push("</b:value>"),e.join("")},this.deserialize=function(e){for(var t=new Object,o=e.childNodes,l=0,u=o.length;l<u;l++){var g,p=o[l];switch(p.nodeName){case"a:Attributes":for(var d=p,h=0,f=d.childNodes.length;h<f;h++){var y=d.childNodes[h],v=y.childNodes;g=(0,n.getNodeText)(v[0]);var m,_,b=v[1],C=b.attributes.getNamedItem("i:type").value;if("AliasedValue"===C.replace("c:","").replace("a:","")){var O=b.childNodes[2];C=O.attributes.getNamedItem("i:type").value,b=O}switch(C){case"a:OptionSetValue":var S=new i;S.type=C.replace("a:",""),S.value=parseInt((0,n.getNodeText)(b)),t[g]=S;break;case"a:EntityReference":(m=new a).type=C.replace("a:","");for(var x=b.childNodes,R=0,E=x.length;R<E;R++){var P=x[R];switch(P.nodeName){case"a:Id":m.id=(0,n.getNodeText)(P);break;case"a:LogicalName":m.logicalName=(0,n.getNodeText)(P);break;case"a:Name":m.name=(0,n.getNodeText)(P)}}t[g]=m;break;case"a:EntityCollection":(m=new s).type=C.replace("a:","");for(var w=[],T=0,N=b.childNodes[0].childNodes.length;T<N;T++)for(var L=y.childNodes[1].childNodes[0].childNodes[T].childNodes[0].childNodes,A=0,k=L.length;A<k;A++){var M=L[A].childNodes;if("partyid"===(0,n.getNodeText)(M[0])){for(var V=new a,D=M[1].childNodes,I=0,q=D.length;I<q;I++){var X=D[I];switch(X.nodeName){case"a:Id":V.id=(0,n.getNodeText)(X);break;case"a:LogicalName":V.logicalName=(0,n.getNodeText)(X);break;case"a:Name":V.name=(0,n.getNodeText)(X)}}w[T]=V}}m.value=w,t[g]=m;break;case"a:Money":(_=new c).type=C.replace("a:",""),_.value=parseFloat((0,n.getNodeText)(b)),t[g]=_;break;default:(_=new c).type=C.replace("c:","").replace("a:",""),"int"===_.type?_.value=parseInt((0,n.getNodeText)(b)):"decimal"===_.type||"double"===_.type?_.value=parseFloat((0,n.getNodeText)(b)):"dateTime"===_.type?_.value=(0,n.stringToDate)((0,n.getNodeText)(b)):"boolean"===_.type?_.value="false"!==(0,n.getNodeText)(b):_.value=(0,n.getNodeText)(b),t[g]=_}}r.attributes=t;break;case"a:Id":r.id=(0,n.getNodeText)(p);break;case"a:LogicalName":r.logicalName=(0,n.getNodeText)(p);break;case"a:FormattedValues":for(var F=p,j=0,B=F.childNodes.length;j<B;j++){var U=F.childNodes[j];g=(0,n.getNodeText)(U.childNodes[0]),r.attributes[g].formattedValue=(0,n.getNodeText)(U.childNodes[1]),isNaN(r.attributes[g].value)&&"dateTime"===r.attributes[g].type&&(r.attributes[g].value=new Date(r.attributes[g].formattedValue))}}}},this.logicalName=e,this.id=t}},114:function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Process=void 0;var i=r(431),a=r(713),s=r(362),c=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.callActionBase=function(e,t,r,o){try{var n=new XMLHttpRequest;n.open(i.SOAP_CONSTS.HTTP_METHOD.POST,this.getClientUrl()+i.SOAP_CONSTS.SOAP_ENDPOINT,0!=o),n.setRequestHeader(i.SOAP_CONSTS.ACCEPT_TYPE.text,i.SOAP_CONSTS.ACCEPT_TYPE.value.XML),n.setRequestHeader(i.SOAP_CONSTS.CONTENT_TYPE.text,i.SOAP_CONSTS.CONTENT_TYPE.value.XML),n.setRequestHeader(i.SOAP_CONSTS.SOAP_ACTION.text,i.SOAP_CONSTS.SOAP_ACTION.value),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){if(t){for(var e=n.responseXML.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1],o=(0,s.getChildNodes)(e,"a:KeyValuePairOfstringanyType"),i={},a=0;a<o.length;a++){var c=(0,s.getChildNode)(o[a],"b:key"),l=(0,s.getChildNode)(o[a],"b:value"),u=(0,s.getNodeTextValue)(c),g=(0,s.getValue)(l);i[u]=g.value}t(i)}}else if(r){var p=null,d=null;try{p=(0,s.getNodeTextValueNotNull)(n.responseXML.getElementsByTagName("Message")),d=(0,s.getNodeTextValueNotNull)(n.responseXML.getElementsByTagName("TraceText"))}catch(e){}null==p&&(p="Error executing Action. Check input parameters or contact your CRM Administrator"),r(p,d)}},n.send(e)}catch(e){}},t.prototype.callAction=function(e,t,r,o,n){try{var i={"":"http://schemas.microsoft.com/xrm/2011/Contracts/Services",":s":"http://schemas.xmlsoap.org/soap/envelope/",":a":"http://schemas.microsoft.com/xrm/2011/Contracts",":i":"http://www.w3.org/2001/XMLSchema-instance",":b":"http://schemas.datacontract.org/2004/07/System.Collections.Generic",":c":"http://www.w3.org/2001/XMLSchema",":d":"http://schemas.microsoft.com/xrm/2011/Contracts/Services",":e":"http://schemas.microsoft.com/2003/10/Serialization/",":f":"http://schemas.microsoft.com/2003/10/Serialization/Arrays",":g":"http://schemas.microsoft.com/crm/2011/Contracts",":h":"http://schemas.microsoft.com/xrm/2011/Metadata",":j":"http://schemas.microsoft.com/xrm/2011/Metadata/Query",":k":"http://schemas.microsoft.com/xrm/2013/Metadata",":l":"http://schemas.microsoft.com/xrm/2012/Contracts"},a="<s:Envelope";for(var c in i)a+=" xmlns"+c+"='"+i[c]+"'";if(a+="><s:Body><Execute><request>",null!=t&&t.length>0){a+="<a:Parameters>";for(var l=0;l<t.length;l++){var u=t[l];a+=(0,s.getXmlValue)(u.key,u.type,u.value)}a+="</a:Parameters>"}else a+="<a:Parameters />";a+="<a:RequestId i:nil='true' /><a:RequestName>"+e+"</a:RequestName></request></Execute></s:Body></s:Envelope>",this.callActionBase(a,r,o,n)}catch(e){}},t.prototype.callWorkflow=function(e,t,r,o,n){try{var a="<s:Envelope xmlns:s='http://schemas.xmlsoap.org/soap/envelope/'><s:Body><Execute xmlns='http://schemas.microsoft.com/xrm/2011/Contracts/Services' xmlns:i='http://www.w3.org/2001/XMLSchema-instance'><request i:type='b:ExecuteWorkflowRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts' xmlns:b='http://schemas.microsoft.com/crm/2011/Contracts'><a:Parameters xmlns:c='http://schemas.datacontract.org/2004/07/System.Collections.Generic'><a:KeyValuePairOfstringanyType><c:key>EntityId</c:key><c:value i:type='d:guid' xmlns:d='http://schemas.microsoft.com/2003/10/Serialization/'>"+t+"</c:value></a:KeyValuePairOfstringanyType><a:KeyValuePairOfstringanyType><c:key>WorkflowId</c:key><c:value i:type='d:guid' xmlns:d='http://schemas.microsoft.com/2003/10/Serialization/'>"+e+"</c:value></a:KeyValuePairOfstringanyType></a:Parameters><a:RequestId i:nil='true' /><a:RequestName>ExecuteWorkflow</a:RequestName></request></Execute></s:Body></s:Envelope>",s=new XMLHttpRequest;s.open(i.SOAP_CONSTS.HTTP_METHOD.POST,this.getClientUrl()+i.SOAP_CONSTS.SOAP_ENDPOINT,0!=n),s.setRequestHeader(i.SOAP_CONSTS.ACCEPT_TYPE.text,i.SOAP_CONSTS.ACCEPT_TYPE.value.XML),s.setRequestHeader(i.SOAP_CONSTS.CONTENT_TYPE.text,i.SOAP_CONSTS.CONTENT_TYPE.value.XML),s.setRequestHeader(i.SOAP_CONSTS.SOAP_ACTION.text,i.SOAP_CONSTS.SOAP_ACTION.value),s.onreadystatechange=function(){4==s.readyState&&(200==s.status?r&&r():o&&o())},s.send(a)}catch(e){}},t}(a.GlobalContext);t.Process=c},876:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._SOAP=void 0;var o=r(479),n=r(182),i=r(662),a=r(114),s=function(){function e(){var e=this;this._FetchKit=new n.FetchKit,this._Process=new a.Process,this._EntityBase=new o.EntityBase,this.BusinessEntity=function(e,t){return new i.BusinessEntity(e,t)},this.fetch=function(t,r){return e._FetchKit.fetch(t,r)},this.fetchAll=function(t,r){return e._FetchKit.fetchAll(t,r)},this.fetchMore=function(t,r){return e._FetchKit.fetchMore(t,r)},this.callAction=function(t,r,o,n,i){e._Process.callAction(t,r,o,n,i)},this.callWorkflow=function(t,r,o,n,i){e._Process.callWorkflow(t,r,o,n,i)},this.retrieve=function(t,r,o,n,i){e._EntityBase.retrieve(t,r,o,n,i)},this.create=function(t,r){e._EntityBase.create(t,r)},this.update=function(t,r){e._EntityBase.update(t,r)},this.delete=function(t,r,o){e._EntityBase.delete(t,r,o)},this.retrieveMultiple=function(t,r){e._EntityBase.retrieveMultiple(t,r)},this.associate=function(t,r,o,n,i,a){e._EntityBase.associate(t,r,o,n,i,a)},this.disassociate=function(t,r,o,n,i,a){e._EntityBase.disassociate(t,r,o,n,i,a)}}return e.prototype.setState=function(e,t,r,o,n,i){this._EntityBase.setState(e,t,r,o,n,i)},e.prototype.assign=function(e,t,r,o){return this._EntityBase.assign(e,t,r,o)},e}();t._SOAP=new s},926:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utilities=void 0;var entity_1=__webpack_require__(999),constants_1=__webpack_require__(431),attributes_1=__webpack_require__(234),globalcontext_1=__webpack_require__(713),validation_1=__webpack_require__(641),odata_1=__webpack_require__(504),navigate_1=__webpack_require__(977),messages_1=__webpack_require__(818),logger_1=__webpack_require__(218),controls_1=__webpack_require__(503),constants_2=__webpack_require__(431),helpers_1=__webpack_require__(623),Utility=function(){function Utility(){var e=this;this.getQueryStringParameter=function(e){var t;if(""!=location.search){var r=null===(t=window.location.search)||void 0===t?void 0:t.split("?")[1].split("&");if(Array.isArray(r))for(var o=0;o<r.length;o+=1){var n=r[o].split("=");if(n[0]===e)return decodeURIComponent(n[1])}}return""},this.queryStringParameterToObject=function(t){var r=e.getQueryStringParameter(t);if(r){var o={},n=r.split("&");for(var i in n)for(var a=n[i].replace(/\+/g," ").split("="),s=0;s<a.length;s++){o[a[s]]=a[s+1];break}return o}return{}},this.createFetchXml=function(e,t,r,o){var n,i=new DOMParser,a=new XMLSerializer,s=i.parseFromString(e,"text/xml");if(r&&s.getElementsByTagName("fetch")[0].setAttribute("page",r.toString()),o&&s.getElementsByTagName("fetch")[0].setAttribute("count",o.toString()),t){var c=i.parseFromString(t,"text/xml");if(c){var l=i.parseFromString(decodeURIComponent(decodeURIComponent(null!==(n=c.getElementsByTagName("cookie")[0].getAttribute("pagingcookie"))&&void 0!==n?n:"")),"text/xml");s.getElementsByTagName("fetch")[0].setAttribute("paging-cookie",a.serializeToString(l))}}return a.serializeToString(s)},this.initLookup=function(e,t,r){return[{entityType:e,id:t,name:r}]},this.guidEmpty=function(){return"00000000-0000-0000-0000-000000000000"},this.removeBrackets=function(e){return e.replace(/[{}]/gi,"")},this.autoMappingValue=function(t,r,o){return __awaiter(e,void 0,void 0,(function(){var e,o,n,i,a,s,c,l,u,g;return __generator(this,(function(p){switch(p.label){case 0:return r&&!validation_1._Validation.isFetchXml(r)?[2]:[4,odata_1._OData.retrieveMultipleRecords(t,r)];case 1:if((e=p.sent())&&e.entities&&e.entities[0])for(o=e.entities[0],n=Object.keys(o),i=n.filter((function(e){return e.indexOf("@")<0})),a=0,s=i;a<s.length;a++){c=s[a],l=c;try{switch(c.startsWith("_")&&c.endsWith("_value")&&(l=c.substring(1,c.length-6)),(u=attributes_1._Attributes.getAttribute(l)).getAttributeType()){case"boolean":case"decimal":case"double":case"integer":case"memo":case"money":case"optionset":case"string":u.setValue(o[c]);break;case"datetime":u.setValue(new Date(o[c]));break;case"lookup":u.setValue(this.initLookup(o[c+constants_1.Constants.ODataLookupLogicalName],o[c],o[c+constants_1.Constants.ODataFormattedValue]));break;case"multiselectoptionset":g=o[c].split(","),u.setValue(g.map((function(e){return parseInt(e)})))}}catch(e){console.log("[Error]: "+l+"\n"+e.message)}}return[2,e]}}))}))},this.calculateAge=function(e,t){void 0===t&&(t=!0);var r=0,o=new Date(e);if(o){var n=new Date,i=o.getDate(),a=o.getMonth(),s=o.getFullYear();r=n.getFullYear()-s,t&&(a>n.getMonth()||a===n.getMonth()&&i>n.getDate())&&(r-=1)}return r},this.getCurrentUserRoles=function(){return globalcontext_1._GlobalContext.userSettings.roles.get()},this.checkUserHaveRoles=function(t){if(!Array.isArray(t))return!1;var r=e.getCurrentUserRoles();return t.some((function(e){return r.some((function(t){return t.name===e}))}))},this.getEntityMetadata=function(e,t){return constants_2.Xrm.Utility.getEntityMetadata(e,t)},this.clickRibbonButton=function(t,r){return __awaiter(e,void 0,void 0,(function(){var e,o;return __generator(this,(function(n){return entity_1._Entity.getIsDirty()?((e={}).text=messages_1.Messages.get("MS006"),navigate_1._Navigate.openAlertDialog(e),[2,!1]):((o={}).text=t,o.title=r,[2,navigate_1._Navigate.openConfirmDialog(o)])}))}))},this.isSameGuId=function(t,r){try{return e.removeBrackets(t).toUpperCase()===e.removeBrackets(r).toUpperCase()}catch(e){return logger_1.logger.Warn(e.message),!1}},this.showProgressIndicator=function(e){return constants_2.Xrm.Utility.showProgressIndicator(e)},this.closeProgressIndicator=function(){return constants_2.Xrm.Utility.closeProgressIndicator()},this.reFreshIframe=function(e){var t=controls_1._Controls.getControl(e);if(t){var r=t.getSrc();t.setSrc("_blank"),t.setSrc(r)}},this.getLookupValue=function(e){var t=null,r=attributes_1._Attributes.getAttribute(e);return null!=r&&(t=(t=r.getValue())&&t.length>0?t[0]:null),t},this.setLookUp=function(e,t,r,o){var n=new Array;n[0]=new Object,n[0].id=e,n[0].name=t,n[0].entityType=r,attributes_1._Attributes.getAttribute(o).setValue(n)},this.setOptionSetValueByText=function(e,t){for(var r=attributes_1._Attributes.getAttribute(e).getOptions(),o=0;o<r.length;o++)if(r[o].text===t){attributes_1._Attributes.getAttribute(e).setValue(r[o].value);break}},this.setOptionSetFieldByText=function(e,t){for(var r=e.getOptions(),o=0;o<r.length;o++)if(r[o].text===t){e.setValue(r[o].value);break}},this.setValueByText=function(e,t){var r=attributes_1._Attributes.getAttribute(e);r&&r.setValue(t)},this.removeOptionSetItem=function(e,t){controls_1._Controls.getControl(e).removeOption(t)},this.findOption=function(e,t){var r=null;if(e)for(var o=0;o<e.length;o++)if(e[o].value===t){r=e[o];break}return r},this.getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))},this.QueryString=function(e){for(var t={},r=e.split("&"),o=0;o<r.length;o++){var n=r[o].split("=");if(void 0===t[n[0]])t[n[0]]=n[1];else if("string"==typeof t[n[0]]){var i=[t[n[0]],n[1]];t[n[0]]=i}else t[n[0]].push(n[1])}return t},this.updateQueryString=function(e,t,r){var o=new RegExp("([?|&])"+t+"=.*?(&|#|$)","i");if(e.match(o))return e.replace(o,"$1"+t+"="+r+"$2");var n="",i=-1!==e.indexOf("?")?"&":"?";return-1!==e.indexOf("#")&&(n=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+i+t+"="+r+n},this.openPopupLookup=function(e){try{var t={target:2,height:{value:80,unit:"%"},width:{value:80,unit:"%"},position:1};e.forEach((function(e){controls_1._Controls.getControl(e).addOnLookupTagClick((function(e){e.getEventArgs().preventDefault();var r=e.getEventArgs().getTagValue(),o={pageType:"entityrecord",entityName:r.entityType,entityId:r.id};navigate_1._Navigate.navigateTo(o,t)}))}))}catch(e){logger_1.logger.Error(e.message,"Utilitiy.openPopupLookup")}},this.openNewWindowLookup=function(e){try{e.forEach((function(e){controls_1._Controls.getControl(e).addOnLookupTagClick((function(e){e.getEventArgs().preventDefault();var t=e.getEventArgs().getTagValue(),r=window.location.href,o=r.indexOf("etn="),n=r.slice(0,o);n+="etn="+t.entityType+"&id="+t.id,window.open(n)}))}))}catch(e){logger_1.logger.Error(e.message,"Utilitiy.openNewWindowLookup")}},this.sendLog=function(t,r,o){return __awaiter(e,void 0,void 0,(function(){var e,n,i,a;return __generator(this,(function(s){switch(s.label){case 0:return e=window.$?window.$:window.parent.$,n=constants_2.Xrm.Utility.getGlobalContext().getClientUrl(),[4,e.getJSON("https://api.ipify.org?format=json",(function(){}))];case 1:return i=s.sent(),a={name:(o?o+"| ":"")+(new Date).toISOString(),url:n,logerLevel:r,ip:i?i.ip:"",func:o,message:t},null!=constants_2.Xrm&&null!=constants_2.Xrm.Page.ui&&(a.form=constants_2.Xrm.Page.ui.formSelector.getCurrentItem().getLabel()),null!=constants_2.Xrm&&null!=constants_2.Xrm.Page.data&&(a.entity=constants_2.Xrm.Page.data.entity.getEntityName(),a.entityId=constants_2.Xrm.Page.data.entity.getId()),helpers_1.Helpers.Send(a),[2]}}))}))}}return Utility.prototype.removeThousandsSeparator=function(value,decimals){if((null==decimals||isNaN(decimals))&&(decimals=0),isNaN(value)){var decimal_sep=",",thousands_sep=".";if("en-us"==window.navigator.systemLanguage)var decimal_sep=".",thousands_sep=",";var n=value.toString();return n=eval("n.replace(/\\"+thousands_sep+'/g,"")'),n=eval("n.replace(/\\"+decimal_sep+'/g,".")'),n}return value},Utility}();exports.Utilities=new Utility},641:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Validation=void 0;var r=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new this)},e.prototype.isFetchXml=function(e){try{return"string"==typeof e&&"fetch"===(new DOMParser).parseFromString(e,"text/xml").documentElement.nodeName}catch(e){return console.log(e.message),!1}},e.prototype.isEmail=function(e){try{return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)}catch(e){return console.log(e.message),!1}},e.prototype.isPhoneNumber=function(e){try{return/^\+?\d+$/.test(e)}catch(e){return console.log(e.message),!1}},e}();t._Validation=r.getInstance()},748:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lib=void 0;var o=r(234),n=r(503),i=r(999),a=r(416),s=r(713),c=r(826),l=r(218),u=r(977),g=r(852),p=r(262),d=r(876),h=r(926),f=r(641);t.Lib=function(){this.Attributes=o._Attributes,this.Controls=n._Controls,this.Entity=i._Entity,this.FormContext=a._FormContext,this.GlobalContext=s._GlobalContext,this.GridContext=c._GridContext,this.Logger=l.logger,this.Navigate=u._Navigate,this.OData=g._OData,this.Process=p._Process,this.SOAP=d._SOAP,this.Utility=h.Utilities,this.Validation=f._Validation}},818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;var r=function(){function e(){}return e.get=function(t){var r;try{var o=Xrm.Utility.getGlobalContext().userSettings.languageId;return void 0===this.messages&&(e.messages=ANT.Caching.getData("Message-"+o)),null!==(r=e.messages[t])&&void 0!==r?r:t}catch(e){return console.log(e.message),t}},e}();t.Messages=r},838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Webresource=void 0;t._Webresource=new function(){}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}var __webpack_exports__={};(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),e.Validation=e.Utility=e.SOAP=e.Process=e.OData=e.Navigate=e.Logger=e.GridContext=e.GlobalContext=e.FormContext=e.Entity=e.Controls=e.Attributes=e.Messages=e.Webresource=e.Lib=e.Constants=void 0;var t=__webpack_require__(708),r=__webpack_require__(431),o=__webpack_require__(748),n=__webpack_require__(838),i=__webpack_require__(818),a=__webpack_require__(234),s=__webpack_require__(503),c=__webpack_require__(999),l=__webpack_require__(416),u=__webpack_require__(713),g=__webpack_require__(826),p=__webpack_require__(218),d=__webpack_require__(977),h=__webpack_require__(852),f=__webpack_require__(262),y=__webpack_require__(876),v=__webpack_require__(926),m=__webpack_require__(641);e.Constants=r.Constants,e.Lib=new o.Lib,e.Webresource=n._Webresource,e.Messages=i.Messages,e.Attributes=a._Attributes,e.Controls=s._Controls,e.Entity=c._Entity,e.FormContext=l._FormContext,e.GlobalContext=u._GlobalContext,e.GridContext=g._GridContext,e.Logger=p.logger,e.Navigate=d._Navigate,e.OData=h._OData,e.Process=f._Process,e.SOAP=y._SOAP,e.Utility=v.Utilities,e.Validation=m._Validation,new t.Extensions})();var __webpack_export_target__=ANT="undefined"==typeof ANT?{}:ANT;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();
//# sourceMappingURL=ant_lib.js.map